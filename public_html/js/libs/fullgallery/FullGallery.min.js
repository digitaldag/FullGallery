/* FullGallery v0.3 Responsive multi-Gallery with thumbinals, customizable transiction and content slideshow License: This work is licensed under the Creative Commons Attribution 4.0 International License. To view a copy of this license, visit http://creativecommons.org/licenses/by/4.0/ or send a letter to Creative Commons, 444 Castro Street, Suite 900, Mountain View, California, 94041, USA. Contacts: digitald(at)big-d-web(dot)com */
(function(c){var p,q,b=[{images:[],status:null,animation:"fade",animationRunning:0,time:6E3,prev:null,next:null,actual:null,total:null,base:null,started:0,autoplay:!1,mini:null,buttons:!1,resumePlay:!0,callback:{init:function(){},animationStart:function(){},animationEnd:function(){},play:function(){},stop:function(){},tabFocus:function(){},tabBlur:function(){}},debug:!1}],n=[],l=[],k=[],m=[],t={fade:{forward:{before:{actual:{zIndex:-2,display:"block",opacity:"1.0"},next:{zIndex:-1,display:"block",
opacity:"0.0"}},actualImageTo:null,delay:0,nextImageTo:{css:{display:"block",opacity:"1.0"},time:1E3,method:"linear"},after:{actual:{zIndex:-3,display:"none",opacity:"0.0"},next:{zIndex:-1,display:"block"}}},previous:{before:{actual:{zIndex:-2,display:"block",opacity:"1.0"},next:{zIndex:-1,display:"block",opacity:"0.0"}},actualImageTo:null,delay:0,nextImageTo:{css:{display:"block",opacity:"1.0"},time:1E3,method:"linear"},after:{actual:{zIndex:-3,display:"none",opacity:"0.0"},next:{zIndex:-1,display:"block"}}},
sync:!1,callbacks:{before:function(){},after:function(){}}},slide:{forward:{before:{actual:{zIndex:1,display:"block",top:0,left:0},next:{zIndex:2,display:"block",top:0,left:"100%"}},actualImageTo:{css:{left:"-100%"},time:1200,method:"easeInOutExpo"},delay:0,nextImageTo:{css:{left:"0"},time:1E3,method:"easeInOutExpo"},after:{actual:{zIndex:1,display:"block",top:0,left:"100%"},next:{zIndex:1,display:"block",top:0,left:0}}},previous:{before:{actual:{zIndex:1,display:"block",top:0,left:0},next:{zIndex:2,
display:"block",top:0,left:"-100%"}},actualImageTo:{css:{left:"100%"},time:1200,method:"easeInOutExpo"},delay:0,nextImageTo:{css:{left:"0"},time:1E3,method:"easeInOutExpo"},after:{actual:{zIndex:1,display:"block",top:0,left:"-100%"},next:{zIndex:1,display:"block",top:0,left:0}}},sync:!0,callbacks:{before:function(){},after:function(){}}}};c.fn.FullGallery=function(){argL=arguments.length;var a=!1,e=c(this).attr("id"),e=""==e||void 0==e?"FG"+Math.round(1E7*Math.random()):e;c(this).attr({id:e});if(0==
argL)b[e]=b[0];else if(1==argL&&"object"==typeof arguments[0])opt=arguments[0];else if(2==argL&&"animations"==arguments[0]&&"object"==typeof arguments[1])t=c.extend(arguments[1],t);else if(2!=argL||"string"!=typeof arguments[0]||"object"!=typeof arguments[1]&&"string"!=typeof arguments[1])if(1==argL&&"string"==typeof arguments[0])switch(arguments[0]){case "play":a=u;break;case "stop":a=v;break;case "next":a=w;break;case "prev":a=x}else 1==argL&&"number"==typeof arguments[0]&&(a=parseInt(1*arguments[0]),
void 0!=b[e].images[a]&&a!=b[e].actual&&(clearTimeout(n[e]),b[e].actual=b[e].actual,b[e].prev=0>a?b[e].total:a,b[e].next=a,effect=b[e].next>b[e].actual?"n":"p",r(e,effect)));else opt=arguments[0],optv=arguments[1];a?"function"==typeof a&&a(e):("object"==typeof opt&&(b[e]="object"==typeof b[e]?c.extend({},b[e],opt):c.extend({},b[0],opt)),"string"==typeof opt&&(b[e][opt]=optv),b[e].base=this,0==b[e].started&&y(e),b[e].started=1)};var y=function(a){"undefined"!==typeof document.hidden?(p="hidden",q=
"visibilitychange"):"undefined"!==typeof document.mozHidden?(p="mozHidden",q="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(p="msHidden",q="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(p="webkitHidden",q="webkitvisibilitychange");document.addEventListener(q,function(){null!=b[a].status&&(document[p]&&1==b[a].status?(g("Visibility change HIDE",a),c(b[a].base).FullGallery("stop"),"function"==typeof b[a].callback.tabBlur&&b[a].callback.tabBlur()):0==b[a].status&&
!0==b[a].resumePlay&&(g("Visibility change SHOW",a),c(b[a].base).FullGallery("play"),"function"==typeof b[a].callback.tabFocus&&b[a].callback.tabFocus()))},!1);m[a]=b[a].base;m[a]="#"+m[a].attr("id")+" ";0==b[a].images.length&&(elements=0,c(b[a].base).children("ul").children("li").each(function(){url=c(this).css("background-image").replace(/url\(/g,"");url=url.replace(/\)/g,"");b[a].images[elements]={url:url.replace(/"/g,""),content:c(this).html()};elements++}));c(b[a].base).empty();switch(b[a].mini){case "thumbnails":thumbs_class=
"FG_mini FG_thumb_list";break;default:thumbs_class="FG_mini FG_button_list"}buttons="";b[a].buttons&&(buttons='<ul class="FG_buttons"><li class="prev"></li><li class="next"></li></ul>');thumbs='<ul class="'+thumbs_class+'">';for(i=0;i<b[a].images.length;i++)if(z=-3,d="none",s="",0==i&&(z=-1,d="block",s="FG_thumb_list_actual"),c(b[a].base).append('<div class="FG_image" image="'+i+'" style="z-index:'+z+";background-image:url("+b[a].images[i].url+");display:"+d+';">'+(void 0==b[a].images[i].content?
"":b[a].images[i].content)+"</div>"),null!=b[a].mini)switch(b[a].mini){case "thumbnails":thumbs+='<li class="FG_thumb_image '+s+'" image="'+i+'" style="background-image:url('+b[a].images[i].url+');background-size:cover;background-position: center center;"></li>';break;default:thumbs+='<li class="FG_thumb_button '+s+'" image="'+i+'"></li>'}thumbs+="</ul>";c(b[a].base).prepend(buttons+thumbs);c(m[a]+" > ul.FG_buttons > li.prev").click(function(){c(b[a].base).FullGallery("prev")});c(m[a]+" > ul.FG_buttons > li.next").click(function(){c(b[a].base).FullGallery("next")});
c(m[a]+" > ul.FG_mini > li").click(function(){c(m[a]+" > .FG_image").is(":animated")||(g("No animation, start animating",a),c(m[a]+" > ul > li").removeClass("FG_thumb_list_actual"),img=1*c(this).attr("image"),img=img>=b[a].images.length?0:img,img=0>img?b[a].images.length-1:img,c(b[a].base).FullGallery(img),c(this).addClass("FG_thumb_list_actual"))});b[a].actual=0;b[a].total=i-1;b[a].prev=i-1;b[a].next=1;g(b[a],a);b[a].autoplay&&(b[a].status=1,n[a]=setTimeout(function(){u(a)},b[a].time));"function"==
typeof b[a].callback.init&&b[a].callback.init()},v=function(a){b[a].status=0;clearTimeout(n[a]);"function"==typeof b[a].callback.stop&&b[a].callback.stop()},u=function(a){b[a].status=1;"function"==typeof b[a].callback.play&&b[a].callback.play();r(a,b[a].animation,"n")},w=function(a){c(m[a]+" > .FG_image").is(":animated")||(clearTimeout(n[a]),r(a,"n"))},x=function(a){c(m[a]+" > .FG_image").is(":animated")||(clearTimeout(n[a]),r(a,"p"))},r=function(a,e){if(1<b[a].total){"function"==typeof b[a].callback.animationStart&&
b[a].callback.animationStart();switch(e){case "p":effect="previous";break;default:effect="forward"}var f=t[b[a].animation][effect],h=t[b[a].animation];"p"==e?(l[a]=b[a].actual,k[a]=b[a].prev,b[a].actual=b[a].prev):(l[a]=b[a].actual,k[a]=b[a].next,b[a].actual=b[a].next);b[a].prev=0>b[a].actual-1?b[a].total:b[a].actual-1;b[a].next=b[a].actual+1>b[a].total?0:b[a].actual+1;g(b[a].prev+" < "+b[a].actual+" > "+b[a].next,a);null!=f.before.actual&&(c(b[a].base).children('div.FG_image[image="'+l[a]+'"]').css(f.before.actual),
g("Before set actual",a),"function"==typeof h.callbacks.before&&h.callbacks.before("actual",l[a]));null!=f.before.next&&(c(b[a].base).children('div.FG_image[image="'+k[a]+'"]').css(f.before.next),g("Before set next",a),"function"==typeof h.callbacks.before&&h.callbacks.before("next",k[a]));null!=f.actualImageTo&&(g("Actual animation start",a),c(b[a].base).children('div.FG_image[image="'+l[a]+'"]').animate(f.actualImageTo.css,f.actualImageTo.time,f.actualImageTo.method,function(){h.sync||null==f.nextImageTo?
(g("Sync true",a),g("After set acutal",a),c(b[a].base).children('div.FG_image[image="'+l[a]+'"]').css(f.after.actual),"function"==typeof h.callbacks.after&&h.callbacks.after("actual",l[a])):(g("Sync false",a),g("Next animation start",a),c(b[a].base).children('div.FG_image[image="'+k[a]+'"]').animate(f.nextImageTo.css,f.nextImageTo.time,f.nextImageTo.method,function(){g("After set acutal",a);c(b[a].base).children('div.FG_image[image="'+l[a]+'"]').css(f.after.actual);"function"==typeof h.callbacks.after&&
h.callbacks.after("actual",l[a]);g("After set next",a);c(b[a].base).children('div.FG_image[image="'+k[a]+'"]').css(f.after.next);"function"==typeof h.callbacks.after&&h.callbacks.after("next",k[a])}),g("Next animation end",a))}),g("Actual animation end",a));null!=f.nextImageTo&&(g("Sync false",a),g("Next animation start",a),0<f.delay?c(b[a].base).children('div.FG_image[image="'+k[a]+'"]').delay(f.delay).animate(f.nextImageTo.css,f.nextImageTo.time,f.nextImageTo.method,function(){h.sync||(g("After set acutal",
a),c(b[a].base).children('div.FG_image[image="'+l[a]+'"]').css(f.after.actual),"function"==typeof h.callbacks.after&&h.callbacks.after("actual",l[a]));g("After set next",a);c(b[a].base).children('div.FG_image[image="'+k[a]+'"]').css(f.after.next);"function"==typeof h.callbacks.after&&h.callbacks.after("next",k[a])}):c(b[a].base).children('div.FG_image[image="'+k[a]+'"]').animate(f.nextImageTo.css,f.nextImageTo.time,f.nextImageTo.method,function(){h.sync||(g("After set acutal",a),c(b[a].base).children('div.FG_image[image="'+
l[a]+'"]').css(f.after.actual),"function"==typeof h.callbacks.after&&h.callbacks.after("actual",l[a]));g("After set next",a);c(b[a].base).children('div.FG_image[image="'+k[a]+'"]').css(f.after.next);"function"==typeof h.callbacks.after&&h.callbacks.after("next",k[a])}),g("Next animation end",a),c(b[a].base).children("div.FG_image").removeClass("actual"),c(b[a].base).children('div.FG_image[image="'+k[a]+'"]').addClass("actual"));c(b[a].base).children(".FG_mini").children("li").removeClass("FG_thumb_list_actual");
c(b[a].base).children(".FG_mini").children('li[image="'+k[a]+'"]').addClass("FG_thumb_list_actual");1==b[a].status&&(n[a]=setTimeout(function(){r(a,"n")},b[a].time));"function"==typeof b[a].callback.animationEnd&&b[a].callback.animationEnd()}},g=function(a,c){b[c].debug&&console.log(a)}})(jQuery);

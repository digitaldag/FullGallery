/* FullGallery | Contacts: digitald(at)big-d-web(dot)com | License: This work is licensed under the Creative Commons Attribution 4.0 International License. To view a copy of this license, visit http://creativecommons.org/licenses/by/4.0/ or send a letter to Creative Commons, 444 Castro Street, Suite 900, Mountain View, California, 94041, USA. */
(function(f){var u=[];var b={};var e=[{images:[],status:null,animation:"fade",time:6000,autoplay:false,mini:false,miniID:null,buttons:false,resumePlay:true,preload:true,bindKeys:false,volumeFadeSpeed:30,countdown:{active:false,style:{start:"_0",end:"_100"}},callback:{init:function(){},animationStart:function(){},animationEnd:function(){},play:function(){},stop:function(){},tabFocus:function(){},tabBlur:function(){}},debug:false,prev:null,next:null,actual:null,total:null,totalImages:0,loaded:0,base:null,started:0,orientation:null,ratio:null}];var c=new Array();var a=new Array();var g=new Array();var D=new Array();window.FG_video={};window.FG_video_data={};window.FG_video_loaded=false;f.getScript("//www.youtube.com/iframe_api");var A={name:"FullGallery",version:"1.3",lastUpdate:"2014-08-05",authors:[{name:"digitaldag",contacts:"mailto:digitald@big-d-web.com"}],url:"https://github.com/digitaldag/FullGallery"};var m={fade:{forward:{before:{actual:{zIndex:-2,display:"block",opacity:"1.0"},next:{zIndex:-1,display:"block",opacity:"0.0"}},actualImageTo:null,delay:0,nextImageTo:{css:{display:"block",opacity:"1.0"},time:1000,method:"linear"},after:{actual:{zIndex:-3,display:"none",opacity:"0.0"},next:{zIndex:-1,display:"block"}}},previous:{before:{actual:{zIndex:-2,display:"block",opacity:"1.0"},next:{zIndex:-1,display:"block",opacity:"0.0"}},actualImageTo:null,delay:0,nextImageTo:{css:{display:"block",opacity:"1.0"},time:1000,method:"linear"},after:{actual:{zIndex:-3,display:"none",opacity:"0.0"},next:{zIndex:-1,display:"block"}}},sync:false,callbacks:{before:function(){},after:function(){}}},slide:{forward:{before:{actual:{zIndex:1,display:"block",top:0,left:0},next:{zIndex:2,display:"block",top:0,left:"100%"}},actualImageTo:{css:{left:"-100%"},time:1200,method:"easeInOutExpo"},delay:0,nextImageTo:{css:{left:"0"},time:1000,method:"easeInOutExpo"},after:{actual:{zIndex:1,display:"none",top:0,left:"100%"},next:{zIndex:1,display:"block",top:0,left:0}}},previous:{before:{actual:{zIndex:1,display:"block",top:0,left:0},next:{zIndex:2,display:"block",top:0,left:"-100%"}},actualImageTo:{css:{left:"100%"},time:1200,method:"easeInOutExpo"},delay:0,nextImageTo:{css:{left:"0"},time:1000,method:"easeInOutExpo"},after:{actual:{zIndex:1,display:"none",top:0,left:"-100%"},next:{zIndex:1,display:"block",top:0,left:0}}},sync:true,callbacks:{before:function(){},after:function(){}}}};f.fn.FullGallery=function(){if(f(this).length>0){argL=arguments.length;var E=this;var G=false;var F=f(this).attr("id");F=(F==""||F==undefined)?"FG"+Math.round(Math.random()*10000000):F;f(this).attr({id:F});if(argL==0){e[F]=e[0]}else{if(argL==1&&typeof arguments[0]=="object"){opt=arguments[0]}else{if(argL==2&&typeof arguments[0]=="string"&&(typeof arguments[1]=="object"||typeof arguments[1]=="string")){opt=arguments[0];optv=arguments[1]}else{if(argL==1&&typeof arguments[0]=="string"){switch(arguments[0]){case"play":G=B;break;case"stop":G=t;break;case"next":G=q;break;case"prev":G=p;break;case"resize":G=C;break}}else{if(argL==1&&typeof arguments[0]=="number"){G=parseInt(arguments[0]*1);if(e[F].images[G]!=undefined&&G!=e[F].actual){clearTimeout(c[F]);e[F].actual=e[F].actual;e[F].prev=(G<0)?e[F].total-1:G;e[F].next=G;effect=(e[F].next>e[F].actual)?"n":"p";y(F,effect)}}}}}}if(G){if(typeof G=="function"){G(F)}}else{if(typeof opt=="object"){if(typeof e[F]=="object"){e[F]=f.extend({},e[F],opt)}else{e[F]=f.extend({},e[0],opt)}}if(typeof opt=="string"){e[F][opt]=optv}e[F].base=this;if(e[F].started==0){v(F)}e[F].started=1}}};var v=function(E){if(typeof document.hidden!=="undefined"){b.visibilityValue="hidden";b.visibilityChange="visibilitychange"}else{if(typeof document.mozHidden!=="undefined"){b.visibilityValue="mozHidden";b.visibilityChange="mozvisibilitychange"}else{if(typeof document.msHidden!=="undefined"){b.visibilityValue="msHidden";b.visibilityChange="msvisibilitychange"}else{if(typeof document.webkitHidden!=="undefined"){b.visibilityValue="webkitHidden";b.visibilityChange="webkitvisibilitychange"}}}}document.addEventListener(b.visibilityChange,function(){k(E)},false);D[E]=e[E].base;D[E]="#"+D[E].attr("id")+" ";if(e[E].images.length==0){elements=0;f(e[E].base).children("ul").children("li").each(function(){url=f(this).css("background-image").replace(/url\(/g,"");url=url.replace(/\)/g,"");e[E].images[elements]={url:url.replace(/"/g,""),content:f(this).html()};elements++})}f(e[E].base).empty();b.keyDown={};f(document).keydown(function(F){b.keyDown[F.key]=true;if(e[E].bindKeys!=false){if(F.key=="Up"||F.key=="Left"){F.preventDefault();f(e[E].base).FullGallery("prev")}else{if(F.key=="Down"||F.key=="Right"){F.preventDefault();f(e[E].base).FullGallery("next")}else{if(F.key=="p"||F.key=="P"){if(e[E].status==1){f(e[E].base).FullGallery("stop")}else{if(e[E].status==0){f(e[E].base).FullGallery("play")}}}}}}if(b.keyDown.Control&&b.keyDown.Down){F.preventDefault();s=A;authors="";for(i=0;i<s.authors.length;i++){authors+='<a href="'+s.authors[i].contacts+'">'+s.authors[i].name+"</a>";if(s.authors.length!=i-1){authors+=", "}}f(".sc").html('<p><a href="'+s.url+'">'+s.name+"</a> ("+s.version+") made with love by "+authors+"</p>").fadeIn();j(s.name+" ("+s.version+") made with love by "+authors,E)}if(b.keyDown.Esc){f(".sc").fadeOut()}j("Key pressed: "+F.key,E)});f(document).keyup(function(F){b.keyDown[F.key]=false});switch(e[E].mini){case"thumbnails":thumbs_class="FG_mini FG_thumb_list";break;case"numbers":thumbs_class="FG_mini FG_number_list";break;default:thumbs_class="FG_mini FG_button_list";break}buttons="";if(e[E].buttons){buttons='<ul class="FG_buttons"><li class="prev"></li><li class="next"></li></ul>'}countdown="";if(e[E].countdown.active){countdown='<div class="FG_countdown"><div class="_0"></div></div>'}thumbs='<ul class="'+thumbs_class+'" connection="'+E+'">';for(i=0;i<e[E].images.length;i++){z=-3;d="none";s="";if(i==0){z=-1;d="block";s="FG_thumb_list_actual"}e[E].images[i].copyright=e[E].images[i].copyright||{link:"",name:""};copyright="&copy; "+((e[E].images[i].copyright.link!=""&&e[E].images[i].copyright.link!=undefined)?'<a target="_blank" href="'+e[E].images[i].copyright.link+'" title="'+e[E].images[i].copyright.name+'">':"")+e[E].images[i].copyright.name+((e[E].images[i].copyright.link!=""&&e[E].images[i].copyright.link!=undefined)?"</a>":"");copyright_show=(e[E].images[i].copyright.link!=""||e[E].images[i].copyright.name!="")?"block":"none";if(e[E].images[i].type=="video"){loop=(e[E].images[i].loop)?"loop":"";controls=(e[E].images[i].controls)?"controls":"";autoplay=(e[E].images[i].autoplay)?"autoplay":"";video='<video class="FG_video" id="'+E+"_video_"+i+'" image="'+i+'" base="'+E+'" '+autoplay+" "+loop+" "+controls+">";sources=e[E].images[i].url.split(";");for(i=0;i<sources.length;i++){source=sources[i].split("|");if(source.length==2){video+='<source src="'+source[0]+'" type="'+source[1]+'">'}else{video+='<source src="'+sources[i]+'">'}}video+="</video>";customControls='<div style="display:'+d+';" class="FG_video_controls"><ul><li class="play"></li><li class="stop"></li><li class="restart"></li><li class="fadein"></li><li class="fadeout"></li><li class="mute"></li><li class="unmute"></li></ul></div>';f(e[E].base).append('<div video="true" class="FG_image" image="'+i+'" style="z-index:'+z+";display:"+d+';">'+video+((e[E].images[i].content==undefined)?"":e[E].images[i].content)+((e[E].images[i].customControls==true)?customControls:"")+'<div class="sc" style="display:none;position:absolute;top:5px;right:0;font-size:9px;background:#fff;color;#000;"></div><div class="copyright" style="display:'+copyright_show+';">'+copyright+"</div></div>");if(i==0){document.getElementById(E+"_video_"+i).onended=function(){if(e[E].status==1){f(e[E].base).FullGallery("next")}}}document.getElementById(E+"_video_"+i).pause();if(e[E].images[i].customControls!=undefined&&e[E].images[i].customControls!=true&&e[E].images[i].customControls!=false){f(e[E].images[i].customControls).append(customControls);f(e[E].images[i].customControls).children(".FG_video_controls").children("ul").children("li").click(function(){f(e[E].base).FullGalleryVideoManager(f(this).attr("class"))})}else{if(e[E].images[i].customControls==true){f(e[E].base).children(".FG_video_controls").children("ul").children("li").click(function(){f(e[E].base).FullGalleryVideoManager(f(this).attr("class"))})}}}else{if(e[E].images[i].type=="youtube"){url=e[E].images[i].url;if(url.indexOf("watch")>=0){url=url.match(/v=(.*)/);url=url[1];url=url.split("&");url=url[0]}else{if(url.indexOf("embed")>=0){url=url.match(/\/embed\/(.*)[\?]*/);url=url[1];url=url.split("&");url=url[0]}}e[E].images[i].url=url;FG_video_data[E+"_video_"+i]={loop:(e[E].images[i].loop)?1:0,controls:(e[E].images[i].controls)?1:0,autoplay:(e[E].images[i].autoplay)?1:0,info:(e[E].images[i].info)?1:0,rel:(e[E].images[i].rel)?1:0,list:e[E].images[i].list,modestbranding:1,start:(e[E].images[i].start>0)?e[E].images[i].start:"",end:(e[E].images[i].end>0)?e[E].images[i].end:"",iv_load_policy:(e[E].images[i].annotations)?"1":"3",muted:(e[E].images[i].muted)?true:false};video='<div videoID="'+url+'" class="FG_video" id="'+E+"_video_"+i+'" image="'+i+'" base="'+E+'" h="'+e[E].images[i].height+'" w="'+e[E].images[i].width+'" allowfullscreen></div>';customControls='<div style="display:'+d+';" class="FG_video_controls"><ul><li class="play"></li><li class="pause"></li><li class="stop"></li><li class="restart"></li><li class="fadein"></li><li class="fadeout"></li><li class="mute"></li><li class="unmute"></li></ul></div>';f(e[E].base).append('<div class="FG_image" video="true" image="'+i+'" style="z-index:'+z+";display:"+d+';">'+video+((e[E].images[i].content==undefined)?"":e[E].images[i].content)+((e[E].images[i].customControls==true)?customControls:"")+'<div class="sc" style="display:none;position:absolute;top:5px;right:0;font-size:9px;background:#fff;color;#000;"></div><div class="copyright" style="display:'+copyright_show+';">'+copyright+"</div></div>");if(e[E].images[i].customControls!=undefined&&e[E].images[i].customControls!=true&&e[E].images[i].customControls!=false){f(e[E].images[i].customControls).append(customControls);f(e[E].images[i].customControls).children(".FG_video_controls").children("ul").children("li").click(function(){f(e[E].base).FullGalleryVideoManager(f(this).attr("class"))})}else{if(e[E].images[i].customControls==true){f(e[E].base).children(".FG_video_controls").children("ul").children("li").click(function(){f(e[E].base).FullGalleryVideoManager(f(this).attr("class"))})}}FG_video_data[E+"_video_"+i].customControls=e[E].images[i].customControls}else{if(e[E].preload&&e[E].autoplay){f("<img/>").attr("src",e[E].images[i].url).load(function(){f(this).remove();j("Preload",E);e[E].loaded++;n(E)})}e[E].totalImages++;f(e[E].base).append('<div class="FG_image" image="'+i+'" style="z-index:'+z+";background-image:url("+e[E].images[i].url+");display:"+d+';">'+((e[E].images[i].content==undefined)?"":e[E].images[i].content)+'<div class="sc" style="display:none;position:absolute;top:5px;right:0;font-size:9px;background:#fff;color;#000;"></div><div class="copyright" style="display:'+copyright_show+';">'+copyright+"</div></div>")}}if(e[E].mini!=null){switch(e[E].mini){case"thumbnails":url=(e[E].images[i].type=="video")?"":e[E].images[i].url;if(e[E].images[i].type=="video"){video=document.getElementById(E+"_video_"+i);video.addEventListener("loadeddata",function(){video.currentTime=10;l(this)},false);s+=" FG_thumb_video"}else{if(e[E].images[i].type=="youtube"){url="http://img.youtube.com/vi/"+e[E].images[i].url+"/1.jpg";s+=" FG_thumb_video"}}thumbs+='<li class="FG_thumb_image '+s+'" image="'+(i)+'" style="background-image:url('+url+');background-size:cover;background-position: center center;"></li>';break;case"numbers":thumbs+='<li class="FG_thumb_number '+s+'" image="'+(i)+'" >'+(i+1)+"</li>";break;default:thumbs+='<li class="FG_thumb_button '+s+'" image="'+(i)+'"></li>';break}}}thumbs+="</ul>";append=((e[E].buttons)?buttons:"")+((e[E].mini!==false&&e[E].miniID==null)?thumbs:"")+((e[E].countdown.active!==false)?countdown:"");f(e[E].base).prepend(append);if(e[E].mini!==false&&e[E].miniID!=null&&f(e[E].miniID).length==1){f(e[E].miniID).attr({connection:E});f(e[E].miniID).append(thumbs);that=this;f(e[E].miniID+" > ul.FG_mini > li").click(function(){if(!f(f(e[E].miniID).attr("connection")+" > .FG_image").is(":animated")){j("No animation, start animating",E);img=f(this).attr("image")*1;img=(img>=e[E].images.length)?0:img;img=(img<0)?e[E].images.length-1:img;f("#"+f(e[E].miniID).attr("connection")).FullGallery(img)}})}else{f(D[E]+" > ul.FG_mini > li").click(function(){if(!f(D[E]+" > .FG_image").is(":animated")){j("No animation, start animating",E);img=f(this).attr("image")*1;img=(img>=e[E].images.length)?0:img;img=(img<0)?e[E].images.length-1:img;f(e[E].base).FullGallery(img)}})}f(D[E]+" > ul.FG_buttons > li.prev").click(function(){f(e[E].base).FullGallery("prev")});f(D[E]+" > ul.FG_buttons > li.next").click(function(){f(e[E].base).FullGallery("next")});e[E].actual=0;e[E].total=i;e[E].prev=i-1;e[E].next=1;j(e[E],E);f(e[E].base).FullGallery("resize");f(window).resize(function(){f(e[E].base).FullGallery("resize")});if(e[E].autoplay){j("Autoplay",E);if(!e[E].preload){j("No preload",E);e[E].status=1;time=e[E].time;if((e[E].images[0].type=="youtube"||e[E].images[0].type=="video")&&(e[E].images[0].adaptTime)){if(e[E].images[0].type=="video"){video=document.getElementById(E+"_video_0").onended=function(){f(e[E].base).FullGallery("next")}}}else{if(e[E].total>1){x(E,true,time)}c[E]=setTimeout(function(){B(E)},time)}}}if(typeof e[E].callback.init=="function"){e[E].callback.init()}};var t=function(E){e[E].status=0;clearTimeout(c[E]);x(E,"stop");if(typeof e[E].callback.stop=="function"){e[E].callback.stop()}j("Stop",E)};var B=function(E){e[E].status=1;if(typeof e[E].callback.play=="function"){e[E].callback.play()}if(e[E].images[e[E].actual].type=="youtube"){if(FG_video_data[E+"_video_"+e[E].actual].status==0){y(E,e[E].animation,"n")}}else{y(E,e[E].animation,"n")}j("Play",E)};var q=function(E){if(!f(D[E]+" > .FG_image").is(":animated")){clearTimeout(c[E]);y(E,"n");j("Next",E)}};var p=function(E){if(!f(D[E]+" > .FG_image").is(":animated")){clearTimeout(c[E]);y(E,"p");j("Prev",E)}};var y=function(H,G){j("Start animation function",H);if(e[H].total>1){j("More then 1 image",H);if(typeof e[H].callback.animationStart=="function"){e[H].callback.animationStart()}switch(G){case"p":effect="previous";break;default:effect="forward";break}var F=m[e[H].animation][effect];var E=m[e[H].animation];if(G=="p"){a[H]=e[H].actual;g[H]=e[H].prev;e[H].actual=e[H].prev;e[H].prev=(e[H].actual-1<0)?e[H].total-1:e[H].actual-1;e[H].next=(e[H].actual+1>e[H].total-1)?0:e[H].actual+1}else{a[H]=e[H].actual;g[H]=e[H].next;e[H].actual=e[H].next;e[H].prev=(e[H].actual-1<0)?e[H].total-1:e[H].actual-1;e[H].next=(e[H].actual+1>e[H].total-1)?0:e[H].actual+1}if(e[H].images[g[H]].type=="youtube"){onYouTubeIframeAPIReady(true,H,g[H])}if(e[H].images[g[H]].type=="video"){document.getElementById(H+"_video_"+g[H]).play();document.getElementById(H+"_video_"+g[H]).onended=function(){if(e[H].status==1){f(e[H].base).FullGallery("next")}}}j(e[H].prev+" < "+e[H].actual+" > "+e[H].next,H);if(F.before.actual!=null){f(e[H].base).children('div.FG_image[image="'+a[H]+'"]').css(F.before.actual);j("Before set actual",H);if(typeof E.callbacks.before=="function"){E.callbacks.before("actual",a[H])}C(H)}if(F.before.next!=null){f(e[H].base).children('div.FG_image[image="'+g[H]+'"]').css(F.before.next);j("Before set next",H);if(typeof E.callbacks.before=="function"){E.callbacks.before("next",g[H])}C(H)}if(F.actualImageTo!=null){j("Actual animation start",H);f(e[H].base).children('div.FG_image[image="'+a[H]+'"]').animate(F.actualImageTo.css,F.actualImageTo.time,F.actualImageTo.method,function(){if(!E.sync&&F.nextImageTo!=null){j("Sync false",H);j("Next animation start",H);f(e[H].base).children('div.FG_image[image="'+g[H]+'"]').animate(F.nextImageTo.css,F.nextImageTo.time,F.nextImageTo.method,function(){j("After set acutal",H);f(e[H].base).children('div.FG_image[image="'+a[H]+'"]').css(F.after.actual);if(typeof E.callbacks.after=="function"){E.callbacks.after("actual",a[H])}j("After set next",H);f(e[H].base).children('div.FG_image[image="'+g[H]+'"]').css(F.after.next);if(typeof E.callbacks.after=="function"){E.callbacks.after("next",g[H])}});j("Next animation end",H)}else{j("Sync true",H);j("After set acutal",H);f(e[H].base).children('div.FG_image[image="'+a[H]+'"]').css(F.after.actual);if(typeof E.callbacks.after=="function"){E.callbacks.after("actual",a[H])}}});j("Actual animation end",H)}if(F.nextImageTo!=null){j("Sync false",H);j("Next animation start",H);if(F.delay>0){f(e[H].base).children('div.FG_image[image="'+g[H]+'"]').delay(F.delay).animate(F.nextImageTo.css,F.nextImageTo.time,F.nextImageTo.method,function(){if(!E.sync){j("After set acutal",H);f(e[H].base).children('div.FG_image[image="'+a[H]+'"]').css(F.after.actual);if(typeof E.callbacks.after=="function"){E.callbacks.after("actual",a[H])}}j("After set next",H);f(e[H].base).children('div.FG_image[image="'+g[H]+'"]').css(F.after.next);if(typeof E.callbacks.after=="function"){E.callbacks.after("next",g[H])}C(H)});C(H);j("Next animation end",H);f(e[H].base).children("div.FG_image").removeClass("actual");f(e[H].base).children('div.FG_image[image="'+g[H]+'"]').addClass("actual")}else{f(e[H].base).children('div.FG_image[image="'+g[H]+'"]').animate(F.nextImageTo.css,F.nextImageTo.time,F.nextImageTo.method,function(){if(!E.sync){j("After set acutal",H);f(e[H].base).children('div.FG_image[image="'+a[H]+'"]').css(F.after.actual);if(typeof E.callbacks.after=="function"){E.callbacks.after("actual",a[H])}}j("After set next",H);f(e[H].base).children('div.FG_image[image="'+g[H]+'"]').css(F.after.next);if(typeof E.callbacks.after=="function"){E.callbacks.after("next",g[H])}C(H)});C(H);j("Next animation end",H);f(e[H].base).children("div.FG_image").removeClass("actual");f(e[H].base).children('div.FG_image[image="'+g[H]+'"]').addClass("actual")}}if(e[H].images[g[H]].customControls!=undefined&&e[H].images[g[H]].customControls!=false&&(e[H].images[a[H]].customControls==undefined||e[H].images[a[H]].customControls!=false)){if(e[H].images[g[H]].customControls==true){f(e[H].base).children("div.FG_video_controls").fadeIn()}else{f(e[H].images[g[H]].customControls).children("div.FG_video_controls").fadeIn()}}else{if(e[H].images[a[H]].customControls!=undefined&&e[H].images[a[H]].customControls!=false&&(e[H].images[g[H]].customControls==undefined||e[H].images[g[H]].customControls!=false)){if(e[H].images[g[H]].customControls==true){f(e[H].base).children("div.FG_video_controls").fadeOut()}else{f(e[H].images[a[H]].customControls).children("div.FG_video_controls").fadeOut()}}}if(typeof jQuery.ui!=="undefined"){time=(F.actualImageTo!=null&&F.nextImageTo!=null)?F.actualImageTo.time*1+F.nextImageTo.time*1:1000;base=(e[H].miniID!=null)?e[H].miniID:e[H].base;f(base).children(".FG_mini").children("li").removeClass("FG_thumb_list_actual",time);f(base).children(".FG_mini").children('li[image="'+g[H]+'"]').addClass("FG_thumb_list_actual",time)}else{base=(e[H].miniID!=null)?e[H].miniID:e[H].base;f(base).children(".FG_mini").children("li").removeClass("FG_thumb_list_actual");f(base).children(".FG_mini").children('li[image="'+g[H]+'"]').addClass("FG_thumb_list_actual")}if(e[H].status==1){if((e[H].images[g[H]].type=="youtube"||e[H].images[g[H]].type=="video")&&e[H].images[g[H]].adaptTime){}else{x(H,true);c[H]=setTimeout(function(){y(H,"n")},e[H].time)}}if(typeof e[H].callback.animationEnd=="function"){e[H].callback.animationEnd()}if(f(e[H].base).children('div.FG_image[image="'+g[H]+'"]').children("video").length>0){videoId=f(e[H].base).children('div.FG_image[image="'+g[H]+'"]').children("video").attr("id");document.getElementById(videoId).play()}if(f(e[H].base).children('div.FG_image[image="'+a[H]+'"]').children("video").length>0){videoId=f(e[H].base).children('div.FG_image[image="'+a[H]+'"]').children("video").attr("id");document.getElementById(videoId).pause()}}else{j("Just 1 image",H)}};var j=function(E,F){if(e[F].debug){console.log(E)}};var k=function(E){if(e[E].status!=null){if(document[b.visibilityValue]&&e[E].status==1){j("Visibility change HIDE",E);f(e[E].base).FullGallery("stop");if(typeof e[E].callback.tabBlur=="function"){e[E].callback.tabBlur()}}else{if(e[E].status==0&&e[E].resumePlay==true){j("Visibility change SHOW",E);f(e[E].base).FullGallery("play");if(typeof e[E].callback.tabFocus=="function"){e[E].callback.tabFocus()}}}if(document[b.visibilityValue]&&e[E].images[e[E].actual].stopOnTabBlur){f(e[E].base).FullGalleryVideoManager("pause")}if(!document[b.visibilityValue]&&e[E].images[e[E].actual].resumeOnTabFocus){f(e[E].base).FullGalleryVideoManager("play")}}};var x=function(G,E,F){F=(F*1>0)?F:e[G].time;if(e[G].countdown.active&&e[G].autoplay&&e[G].status==1){if(E!="stop"){if(E==true){f(e[G].base).children(".FG_countdown").children("div").stop(true,true)}if(typeof jQuery.ui!=="undefined"){if(typeof e[G].countdown.style.start=="string"){f(e[G].base).children(".FG_countdown").children("div").addClass(e[G].countdown.style.end,F,function(){f(this).removeClass(e[G].countdown.style.end)})}else{if(typeof e[G].countdown.style.start=="object"){f(e[G].base).children(".FG_countdown").children("div").animate(e[G].countdown.style.end,F,function(){f(this).css(e[G].countdown.style.start)})}else{f(e[G].base).children(".FG_countdown").children("div").addClass("_100",F,function(){f(this).removeClass("_100")})}}}else{f(e[G].base).children(".FG_countdown").children("div").animate(e[G].countdown.style.end,F,function(){f(this).css(e[G].countdown.style.start)})}}else{f(e[G].base).children(".FG_countdown").children("div").stop(true,true)}}else{f(e[G].base).children(".FG_countdown").children("div").stop(true,true)}};var n=function(E){j(" ",E);if(e[E].totalImages==e[E].loaded){j("Play",E);c[E]=setTimeout(function(){B(E)},e[E].time)}};var C=function(E){f(e[E].base).children("div.FG_image").children("video").each(function(){h=f(e[E].base).height();w=f(e[E].base).width();o=(w>h)?"o":"v";r=(o!="o")?w/h:h/w;e[E].orientation=o;e[E].ratio=r;if(o=="o"){vH="auto";vW="100%";f(this).attr({height:vH,width:vW});if(f(this).height()<=h){vH="100%";vW="auto"}}else{vH="100%";vW="auto";f(this).attr({height:vH,width:vW});if(f(this).width()<=w){vH="auto";vW="100%"}}f(this).attr({height:vH,width:vW})});f(e[E].base).children("div.FG_image").children("iframe").each(function(){hC=f(e[E].base).height();wC=f(e[E].base).width();oC=(wC>hC)?"o":"v";rC=(oC!="o")?wC/hC:hC/wC;e[E].orientation=oC;e[E].ratio=rC;h=f(this).attr("h");w=f(this).attr("w");o=(w>h)?"o":"v";r=(oC!="o")?w/h:h/w;if(oC=="o"){vH=wC*r;vW=wC;f(this).attr({height:vH,width:vW});if(f(this).height()<=hC){r=w/h;vH=hC;vW=hC*r}}else{vH=hC;vW=hC*r;f(this).attr({height:vH,width:vW});if(f(this).width()<=wC){vH=wC*r;vW=wC}}f(this).attr({height:vH,width:vW})})};var l=function(E){thumb=f(E).attr("image");id=f(E).attr("base");canvas=document.createElement("canvas");canvas.width=E.videoWidth;canvas.height=E.videoHeight;context=canvas.getContext("2d");context.drawImage(E,0,0,E.videoWidth,E.videoHeight);dataURL=canvas.toDataURL();base=(e[id].miniID!=null)?e[id].miniID:e[id].base;f(base).children("ul").children('li[image="'+thumb+'"]').css({background:"url("+dataURL+")","background-size":"cover"})};f.fn.FullGalleryAnimations=function(E){m=f.extend(E,m)};f.fn.FullGalleryGetOptions=function(){var E=f(this).attr("id");E=(E==""||E==undefined)?"FG"+Math.round(Math.random()*10000000):E;f(this).attr({id:E});return e[E]};f.fn.FullGalleryVideoManager=function(F,E){var G=f(this).attr("id");switch(F){case"play":if(e[G].images[e[G].actual].type=="youtube"){FG_video[G+"_video_"+e[G].actual].playVideo()}else{document.getElementById(G+"_video_"+e[G].actual).play()}break;case"stop":if(e[G].images[e[G].actual].type=="youtube"){FG_video[G+"_video_"+e[G].actual].stopVideo()}else{document.getElementById(G+"_video_"+e[G].actual).pause()}break;case"pause":if(e[G].images[e[G].actual].type=="youtube"){FG_video[G+"_video_"+e[G].actual].pauseVideo()}else{document.getElementById(G+"_video_"+e[G].actual).pause()}break;case"restart":if(e[G].images[e[G].actual].type=="youtube"){onYouTubeIframeAPIReady(true)}else{document.getElementById(G+"_video_"+e[G].actual).load()}break;case"mute":if(e[G].images[e[G].actual].type=="youtube"){FG_video[G+"_video_"+e[G].actual].mute()}else{document.getElementById(G+"_video_"+e[G].actual).muted=true}break;case"unmute":if(e[G].images[e[G].actual].type=="youtube"){FG_video[G+"_video_"+e[G].actual].unMute()}else{document.getElementById(G+"_video_"+e[G].actual).muted=false}break;case"fadein":if(e[G].images[e[G].actual].type=="youtube"){VideoFadeVolume(G,"in",FG_video[G+"_video_"+e[G].actual].getVolume())}else{VideoFadeVolume(G,"in",document.getElementById(G+"_video_"+e[G].actual).volume)}break;case"fadeout":if(e[G].images[e[G].actual].type=="youtube"){VideoFadeVolume(G,"out",FG_video[G+"_video_"+e[G].actual].getVolume())}else{VideoFadeVolume(G,"out",document.getElementById(G+"_video_"+e[G].actual).volume)}break;case"setvolume":if(e[G].images[e[G].actual].type=="youtube"){FG_video[G+"_video_"+e[G].actual].setVolume(E)}else{document.getElementById(G+"_video_"+e[G].actual).volume=E/100}break}};VideoFadeVolume=function(G,F,E){if(F=="in"){E++}else{E--}if(E>=0&&E<=100){setTimeout(function(){f("#"+G).FullGalleryVideoManager("setvolume",E);VideoFadeVolume(G,F,E)},e[G].volumeFadeSpeed)}}})(jQuery);window.onYouTubeIframeAPIReady=function(b,c,a){if(b===true||FG_video_loaded==false){id_v=(c!=""&&c!=undefined)?"#"+c+' .div[videoID][image="'+a+'"],#'+c+' .iframe[videoID][image="'+a+'"]':"div[videoID],iframe[videoID]";$(id_v).each(function(){console.log("Div/Iframe");html=$(this).parent("div").html();html=html.replace("iframe","div");$(this).parent("div").html(html);c=$(this).attr("base");a=$(this).attr("image");url=$(this).attr("videoID");h=$(this).attr("h");w=$(this).attr("w");loop=FG_video_data[c+"_video_"+a].loop;muted=FG_video_data[c+"_video_"+a].muted;console.log("Mut: "+muted);opt=FG_video_data[c+"_video_"+a];FG_video[c+"_video_"+a]=new YT.Player(c+"_video_"+a,{width:w,height:h,videoId:url,playerVars:opt,events:{onReady:function(f){FG_video_loaded=true;$("#"+c).FullGallery("resize");FG_video_data[c+"_video_"+a].duration=f.target.getDuration();FG_video_data[c+"_video_"+a].status=0;console.log("Mut: "+muted);if(muted){f.target.mute()}},onStateChange:function(g){var f=$("#"+c).FullGalleryGetOptions();FG_video_data[c+"_video_"+a].status=g.data;loop=f.images[$(g.target.a).attr("image")].loop;if(g.data==YT.PlayerState.ENDED&&loop==1){g.target.playVideo()}else{if(g.data==YT.PlayerState.ENDED&&loop==0&&f.status==1){$("#"+c).FullGallery("next")}}}}})})}};
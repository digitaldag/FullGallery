/* FullGallery | Contacts: digitald(at)big-d-web(dot)com | License: This work is licensed under the Creative Commons Attribution 4.0 International License. To view a copy of this license, visit http://creativecommons.org/licenses/by/4.0/ or send a letter to Creative Commons, 444 Castro Street, Suite 900, Mountain View, California, 94041, USA. */
(function(t){var n=[];var u={};var a=[{images:[],status:null,animation:"fade",time:6e3,autoplay:false,mini:false,miniID:null,buttons:false,resumePlay:true,preload:true,bindKeys:false,bindTouch:false,volumeFadeSpeed:30,countdown:{active:false,style:{start:"_0",end:"_100"}},callback:{init:function(){},animationStart:function(){},animationEnd:function(){},play:function(){},stop:function(){},tabFocus:function(){},tabBlur:function(){}},debug:false,prev:null,next:null,actual:null,total:null,totalImages:0,loaded:0,base:null,started:0,orientation:null,ratio:null}];var f=new Array;var l=new Array;var c=new Array;var p=new Array;window.FG_video={};window.FG_video_data={};window.FG_video_loaded=false;t.getScript("//www.youtube.com/iframe_api");var v={name:"FullGallery",version:"1.5",lastUpdate:"2014-09-01",authors:[{name:"digitaldag",contacts:"mailto:digitald@big-d-web.com"}],url:"https://github.com/digitaldag/FullGallery"};var m={fade:{forward:{before:{actual:{zIndex:-2,display:"block",opacity:"1.0"},next:{zIndex:-1,display:"block",opacity:"0.0"}},actualImageTo:null,delay:0,nextImageTo:{css:{display:"block",opacity:"1.0"},time:1e3,method:"linear"},after:{actual:{zIndex:-3,display:"none",opacity:"0.0"},next:{zIndex:-1,display:"block"}}},previous:{before:{actual:{zIndex:-2,display:"block",opacity:"1.0"},next:{zIndex:-1,display:"block",opacity:"0.0"}},actualImageTo:null,delay:0,nextImageTo:{css:{display:"block",opacity:"1.0"},time:1e3,method:"linear"},after:{actual:{zIndex:-3,display:"none",opacity:"0.0"},next:{zIndex:-1,display:"block"}}},sync:false,callbacks:{before:function(){},after:function(){}}},slide:{forward:{before:{actual:{zIndex:1,display:"block",top:0,left:0},next:{zIndex:2,display:"block",top:0,left:"100%"}},actualImageTo:{css:{left:"-100%"},time:1200,method:"easeInOutExpo"},delay:0,nextImageTo:{css:{left:"0"},time:1e3,method:"easeInOutExpo"},after:{actual:{zIndex:1,display:"none",top:0,left:"100%"},next:{zIndex:1,display:"block",top:0,left:0}}},previous:{before:{actual:{zIndex:1,display:"block",top:0,left:0},next:{zIndex:2,display:"block",top:0,left:"-100%"}},actualImageTo:{css:{left:"100%"},time:1200,method:"easeInOutExpo"},delay:0,nextImageTo:{css:{left:"0"},time:1e3,method:"easeInOutExpo"},after:{actual:{zIndex:1,display:"none",top:0,left:"-100%"},next:{zIndex:1,display:"block",top:0,left:0}}},sync:true,callbacks:{before:function(){},after:function(){}}}};t.fn.FullGallery=function(){if(t(this).length>0){argL=arguments.length;var e=this;var n=false;var r=t(this).attr("id");r=r==""||r==undefined?"FG"+Math.round(Math.random()*1e7):r;t(this).attr({id:r});if(argL==0){a[r]=a[0]}else if(argL==1&&typeof arguments[0]=="object"){opt=arguments[0]}else if(argL==2&&typeof arguments[0]=="string"&&(typeof arguments[1]=="object"||typeof arguments[1]=="string")){opt=arguments[0];optv=arguments[1]}else if(argL==1&&typeof arguments[0]=="string"){switch(arguments[0]){case"play":n=b;break;case"stop":n=y;break;case"next":n=E;break;case"prev":n=S;break;case"resize":n=L;break;case"destroy":n=T;break}}else if(argL==1&&typeof arguments[0]=="number"){n=parseInt(arguments[0]*1);if(a[r].images[n]!=undefined&&n!=a[r].actual){clearTimeout(f[r]);a[r].actual=a[r].actual;a[r].prev=n<0?a[r].total-1:n;a[r].next=n;effect=a[r].next>a[r].actual?"n":"p";x(r,effect)}}if(n){if(typeof n=="function"){n(r)}}else{if(typeof opt=="object"){if(typeof a[r]=="object"){a[r]=t.extend({},a[r],opt)}else{a[r]=t.extend({},a[0],opt)}}if(typeof opt=="string"){a[r][opt]=optv}a[r].base=this;if(a[r].started==0){g(r)}a[r].started=1}}};var g=function(e){if(typeof document.hidden!=="undefined"){u.visibilityValue="hidden";u.visibilityChange="visibilitychange"}else if(typeof document.mozHidden!=="undefined"){u.visibilityValue="mozHidden";u.visibilityChange="mozvisibilitychange"}else if(typeof document.msHidden!=="undefined"){u.visibilityValue="msHidden";u.visibilityChange="msvisibilitychange"}else if(typeof document.webkitHidden!=="undefined"){u.visibilityValue="webkitHidden";u.visibilityChange="webkitvisibilitychange"}document.addEventListener(u.visibilityChange,function(){N(e)},false);p[e]=a[e].base;p[e]="#"+p[e].attr("id")+" ";if(a[e].images.length==0){elements=0;t(a[e].base).children("ul").children("li").each(function(){url=t(this).css("background-image").replace(/url\(/g,"");url=url.replace(/\)/g,"");a[e].images[elements]={url:url.replace(/"/g,""),content:t(this).html()};elements++})}t(a[e].base).empty();u.keyDown={};t(document).keydown(function(n){var r=r||"";u.keyDown[n.key]=true;if(a[e].bindKeys!=false){if(n.key=="Up"||n.key=="Left"){n.preventDefault();t(a[e].base).FullGallery("prev")}else if(n.key=="Down"||n.key=="Right"){n.preventDefault();t(a[e].base).FullGallery("next")}else if(n.key=="p"||n.key=="P"){if(a[e].status==1){t(a[e].base).FullGallery("stop")}else if(a[e].status==0){t(a[e].base).FullGallery("play")}}}if(u.keyDown["Control"]&&u.keyDown["Down"]){n.preventDefault();s=v;authors="";for(i=0;i<s.authors.length;i++){authors+='<a href="'+s.authors[i].contacts+'">'+s.authors[i].name+"</a>";if(s.authors.length!=i-1){authors+=", "}}t(".sc").html('<p><a href="'+s.url+'">'+s.name+"</a> ("+s.version+") made with love by "+authors+"</p>").fadeIn()}if(u.keyDown["4"]&&u.keyDown["2"]){console.log("You found the Answer to the Ultimate Question of Life, the Universe, and Everything!")}if(u.keyDown["Esc"]){t(".sc").fadeOut()}});if(a[e].bindTouch!=false&&typeof Hammer=="function"){var n=new Hammer(document.getElementById(t(a[e].base).attr("id")));n.add(new Hammer.Tap({event:"doubletap",taps:2}));n.add(new Hammer.Tap({event:"sc",taps:4}));n.add(new Hammer.Tap({event:"answer",taps:42}));n.on("swipeleft swipeup panleft pantop",function(){t(a[e].base).FullGallery("prev")}).on("swiperight swipedown panright pandown",function(){t(a[e].base).FullGallery("next")}).on("doubletap",function(){if(a[e].status==1){t(a[e].base).FullGallery("stop")}else if(a[e].status==0){t(a[e].base).FullGallery("play")}}).on("sc",function(){s=v;authors="";for(i=0;i<s.authors.length;i++){authors+='<a href="'+s.authors[i].contacts+'">'+s.authors[i].name+"</a>";if(s.authors.length!=i-1){authors+=", "}}t(".sc").html('<p><a href="'+s.url+'">'+s.name+"</a> ("+s.version+") made with love by "+authors+"</p>").fadeIn();setTimeout(function(){t(".sc").fadeOut()},5e3);log(s.name+" ("+s.version+") made with love by "+authors,e)}).on("answer",function(){console.log("You found the Answer to the Ultimate Question of Life, the Universe, and Everything!")})}t(document).keyup(function(e){u.keyDown[e.key]=false});switch(a[e].mini){case"thumbnails":thumbs_class="FG_mini FG_thumb_list";break;case"numbers":thumbs_class="FG_mini FG_number_list";break;default:thumbs_class="FG_mini FG_button_list";break}buttons="";if(a[e].buttons){buttons='<ul class="FG_buttons"><li class="prev"></li><li class="next"></li></ul>'}countdown="";if(a[e].countdown.active){countdown='<div class="FG_countdown"><div class="_0"></div></div>'}thumbs='<ul class="'+thumbs_class+'" connection="'+e+'">';for(i=0;i<a[e].images.length;i++){z=-3;d="none";s="";if(i==0){z=-1;d="block";s="FG_thumb_list_actual"}a[e].images[i].copyright=a[e].images[i].copyright||{link:"",name:""};copyright="&copy; "+(a[e].images[i].copyright.link!=""&&a[e].images[i].copyright.link!=undefined?'<a target="_blank" href="'+a[e].images[i].copyright.link+'" title="'+a[e].images[i].copyright.name+'">':"")+a[e].images[i].copyright.name+(a[e].images[i].copyright.link!=""&&a[e].images[i].copyright.link!=undefined?"</a>":"");copyright_show=a[e].images[i].copyright.link!=""||a[e].images[i].copyright.name!=""?"block":"none";if(a[e].images[i].type=="video"){loop=a[e].images[i].loop?"loop":"";controls=a[e].images[i].controls?"controls":"";autoplay=a[e].images[i].autoplay?"autoplay":"";video='<video class="FG_video" id="'+e+"_video_"+i+'" image="'+i+'" base="'+e+'" '+autoplay+" "+loop+" "+controls+">";sources=a[e].images[i].url.split(";");for(i=0;i<sources.length;i++){source=sources[i].split("|");if(source.length==2){video+='<source src="'+source[0]+'" type="'+source[1]+'">'}else{video+='<source src="'+sources[i]+'">'}}video+="</video>";customControls='<div style="display:'+d+';" class="FG_video_controls"><ul><li class="play"></li><li class="stop"></li><li class="restart"></li><li class="fadein"></li><li class="fadeout"></li><li class="mute"></li><li class="unmute"></li></ul></div>';t(a[e].base).append('<div video="true" class="FG_image" image="'+i+'" style="z-index:'+z+";display:"+d+';">'+video+(a[e].images[i].content==undefined?"":a[e].images[i].content)+(a[e].images[i].customControls==true?customControls:"")+'<div class="sc" style="display:none;position:absolute;top:5px;right:0;font-size:9px;background:#fff;color;#000;"></div><div class="copyright" style="display:'+copyright_show+';">'+copyright+"</div></div>");if(i==0){document.getElementById(e+"_video_"+i).onended=function(){if(a[e].status==1){t(a[e].base).FullGallery("next")}}}document.getElementById(e+"_video_"+i).pause();if(a[e].images[i].customControls!=undefined&&a[e].images[i].customControls!=true&&a[e].images[i].customControls!=false){t(a[e].images[i].customControls).append(customControls);t(a[e].images[i].customControls).children(".FG_video_controls").children("ul").children("li").click(function(){t(a[e].base).FullGalleryVideoManager(t(this).attr("class"))})}else if(a[e].images[i].customControls==true){t(a[e].base).children(".FG_video_controls").children("ul").children("li").click(function(){t(a[e].base).FullGalleryVideoManager(t(this).attr("class"))})}}else if(a[e].images[i].type=="youtube"){url=a[e].images[i].url;if(url.indexOf("watch")>=0){url=url.match(/v=(.*)/);url=url[1];url=url.split("&");url=url[0]}else if(url.indexOf("embed")>=0){url=url.match(/\/embed\/(.*)[\?]*/);url=url[1];url=url.split("&");url=url[0]}a[e].images[i].url=url;FG_video_data[e+"_video_"+i]={loop:a[e].images[i].loop?1:0,controls:a[e].images[i].controls?1:0,autoplay:a[e].images[i].autoplay?1:0,info:a[e].images[i].info?1:0,rel:a[e].images[i].rel?1:0,list:a[e].images[i].list,modestbranding:1,start:a[e].images[i].start>0?a[e].images[i].start:"",end:a[e].images[i].end>0?a[e].images[i].end:"",iv_load_policy:a[e].images[i].annotations?"1":"3",muted:a[e].images[i].muted?true:false};video='<div videoID="'+url+'" class="FG_video" id="'+e+"_video_"+i+'" image="'+i+'" base="'+e+'" h="'+a[e].images[i].height+'" w="'+a[e].images[i].width+'" allowfullscreen></div>';customControls='<div style="display:'+d+';" class="FG_video_controls"><ul><li class="play"></li><li class="pause"></li><li class="stop"></li><li class="restart"></li><li class="fadein"></li><li class="fadeout"></li><li class="mute"></li><li class="unmute"></li></ul></div>';t(a[e].base).append('<div class="FG_image" video="true" image="'+i+'" style="z-index:'+z+";display:"+d+';">'+video+(a[e].images[i].content==undefined?"":a[e].images[i].content)+(a[e].images[i].customControls==true?customControls:"")+'<div class="sc" style="display:none;position:absolute;top:5px;right:0;font-size:9px;background:#fff;color;#000;"></div><div class="copyright" style="display:'+copyright_show+';">'+copyright+"</div></div>");if(a[e].images[i].customControls!=undefined&&a[e].images[i].customControls!=true&&a[e].images[i].customControls!=false){t(a[e].images[i].customControls).append(customControls);t(a[e].images[i].customControls).children(".FG_video_controls").children("ul").children("li").click(function(){t(a[e].base).FullGalleryVideoManager(t(this).attr("class"))})}else if(a[e].images[i].customControls==true){t(a[e].base).children(".FG_video_controls").children("ul").children("li").click(function(){t(a[e].base).FullGalleryVideoManager(t(this).attr("class"))})}FG_video_data[e+"_video_"+i].customControls=a[e].images[i].customControls}else{if(a[e].preload&&a[e].autoplay){t("<img/>").attr("src",a[e].images[i].url).load(function(){t(this).remove();a[e].loaded++;k(e)})}a[e].totalImages++;t(a[e].base).append('<div class="FG_image" image="'+i+'" style="z-index:'+z+";background-image:url("+a[e].images[i].url+");display:"+d+';">'+(a[e].images[i].content==undefined?"":a[e].images[i].content)+'<div class="sc" style="display:none;position:absolute;top:5px;right:0;font-size:9px;background:#fff;color;#000;"></div><div class="copyright" style="display:'+copyright_show+';">'+copyright+"</div></div>")}if(a[e].mini!=null){switch(a[e].mini){case"thumbnails":url=a[e].images[i].type=="video"?"":a[e].images[i].url;if(a[e].images[i].type=="video"){video=document.getElementById(e+"_video_"+i);video.addEventListener("loadeddata",function(){video.currentTime=10;A(this)},false);s+=" FG_thumb_video"}else if(a[e].images[i].type=="youtube"){url="http://img.youtube.com/vi/"+a[e].images[i].url+"/1.jpg";s+=" FG_thumb_video"}thumbs+='<li class="FG_thumb_image '+s+'" image="'+i+'" style="background-image:url('+url+');background-size:cover;background-position: center center;"></li>';break;case"numbers":thumbs+='<li class="FG_thumb_number '+s+'" image="'+i+'" >'+(i+1)+"</li>";break;default:thumbs+='<li class="FG_thumb_button '+s+'" image="'+i+'"></li>';break}}}thumbs+="</ul>";append=(a[e].buttons?buttons:"")+(a[e].mini!==false&&a[e].miniID==null?thumbs:"")+(a[e].countdown.active!==false?countdown:"");t(a[e].base).prepend(append);if(a[e].mini!==false&&a[e].miniID!=null&&t(a[e].miniID).length==1){t(a[e].miniID).attr({connection:e});t(a[e].miniID).append(thumbs);that=this;t(a[e].miniID+" > ul.FG_mini > li").click(function(){if(!t(t(a[e].miniID).attr("connection")+" > .FG_image").is(":animated")){img=t(this).attr("image")*1;img=img>=a[e].images.length?0:img;img=img<0?a[e].images.length-1:img;t("#"+t(a[e].miniID).attr("connection")).FullGallery(img)}})}else{t(p[e]+" > ul.FG_mini > li").click(function(){if(!t(p[e]+" > .FG_image").is(":animated")){img=t(this).attr("image")*1;img=img>=a[e].images.length?0:img;img=img<0?a[e].images.length-1:img;t(a[e].base).FullGallery(img)}})}t(p[e]+" > ul.FG_buttons > li.prev").click(function(){t(a[e].base).FullGallery("prev")});t(p[e]+" > ul.FG_buttons > li.next").click(function(){t(a[e].base).FullGallery("next")});a[e].actual=0;a[e].total=i;a[e].prev=i-1;a[e].next=1;t(a[e].base).FullGallery("resize");t(window).resize(function(){t(a[e].base).FullGallery("resize")});if(a[e].autoplay){if(!a[e].preload){a[e].status=1;time=a[e].time;if((a[e].images[0].type=="youtube"||a[e].images[0].type=="video")&&a[e].images[0].adaptTime){if(a[e].images[0].type=="video"){video=document.getElementById(e+"_video_0").onended=function(){t(a[e].base).FullGallery("next")}}}else{if(a[e].total>1){C(e,true,time);f[e]=setTimeout(function(){b(e);E(e)},time)}}}}if(typeof a[e].callback.init=="function"){a[e].callback.init()}};var y=function(e){a[e].status=0;clearTimeout(f[e]);C(e,"stop");if(typeof a[e].callback.stop=="function"){a[e].callback.stop()}};var b=function(e){if(a[e]!=undefined){if(a[e].status!=1){a[e].status=1;if(typeof a[e].callback.play=="function"){a[e].callback.play()}if(a[e].images[a[e].actual].type=="youtube"){if(FG_video_data[e+"_video_"+a[e].actual].status==0){x(e,a[e].animation,"n")}}else{x(e,a[e].animation,"n")}}}};var E=function(e){if(!t(p[e]+" > .FG_image").is(":animated")){clearTimeout(f[e]);x(e,"n")}};var S=function(e){if(!t(p[e]+" > .FG_image").is(":animated")){clearTimeout(f[e]);x(e,"p")}};var x=function(e,n){if(a[e].total>1){if(typeof a[e].callback.animationStart=="function"){a[e].callback.animationStart()}switch(n){case"p":effect="previous";break;default:effect="forward";break}var r=m[a[e].animation][effect];var i=m[a[e].animation];if(n=="p"){l[e]=a[e].actual;c[e]=a[e].prev;a[e].actual=a[e].prev;a[e].prev=a[e].actual-1<0?a[e].total-1:a[e].actual-1;a[e].next=a[e].actual+1>a[e].total-1?0:a[e].actual+1}else{l[e]=a[e].actual;c[e]=a[e].next;a[e].actual=a[e].next;a[e].prev=a[e].actual-1<0?a[e].total-1:a[e].actual-1;a[e].next=a[e].actual+1>a[e].total-1?0:a[e].actual+1}if(a[e].images[c[e]].type=="youtube"){onYouTubeIframeAPIReady(true,e,c[e])}if(a[e].images[c[e]].type=="video"){document.getElementById(e+"_video_"+c[e]).play();document.getElementById(e+"_video_"+c[e]).onended=function(){if(a[e].status==1){t(a[e].base).FullGallery("next")}}}if(r.before.actual!=null){t(a[e].base).children('div.FG_image[image="'+l[e]+'"]').css(r.before.actual);if(typeof i.callbacks.before=="function"){i.callbacks.before("actual",l[e])}L(e)}if(r.before.next!=null){t(a[e].base).children('div.FG_image[image="'+c[e]+'"]').css(r.before.next);if(typeof i.callbacks.before=="function"){i.callbacks.before("next",c[e])}L(e)}if(r.actualImageTo!=null){t(a[e].base).children('div.FG_image[image="'+l[e]+'"]').animate(r.actualImageTo.css,r.actualImageTo.time,r.actualImageTo.method,function(){if(!i.sync&&r.nextImageTo!=null){t(a[e].base).children('div.FG_image[image="'+c[e]+'"]').animate(r.nextImageTo.css,r.nextImageTo.time,r.nextImageTo.method,function(){t(a[e].base).children('div.FG_image[image="'+l[e]+'"]').css(r.after.actual);if(typeof i.callbacks.after=="function"){i.callbacks.after("actual",l[e])}t(a[e].base).children('div.FG_image[image="'+c[e]+'"]').css(r.after.next);if(typeof i.callbacks.after=="function"){i.callbacks.after("next",c[e])}})}else{t(a[e].base).children('div.FG_image[image="'+l[e]+'"]').css(r.after.actual);if(typeof i.callbacks.after=="function"){i.callbacks.after("actual",l[e])}}})}if(r.nextImageTo!=null){if(r.delay>0){t(a[e].base).children('div.FG_image[image="'+c[e]+'"]').delay(r.delay).animate(r.nextImageTo.css,r.nextImageTo.time,r.nextImageTo.method,function(){if(!i.sync){t(a[e].base).children('div.FG_image[image="'+l[e]+'"]').css(r.after.actual);if(typeof i.callbacks.after=="function"){i.callbacks.after("actual",l[e])}}t(a[e].base).children('div.FG_image[image="'+c[e]+'"]').css(r.after.next);if(typeof i.callbacks.after=="function"){i.callbacks.after("next",c[e])}L(e)});L(e);t(a[e].base).children("div.FG_image").removeClass("actual");t(a[e].base).children('div.FG_image[image="'+c[e]+'"]').addClass("actual")}else{t(a[e].base).children('div.FG_image[image="'+c[e]+'"]').animate(r.nextImageTo.css,r.nextImageTo.time,r.nextImageTo.method,function(){if(!i.sync){t(a[e].base).children('div.FG_image[image="'+l[e]+'"]').css(r.after.actual);if(typeof i.callbacks.after=="function"){i.callbacks.after("actual",l[e])}}t(a[e].base).children('div.FG_image[image="'+c[e]+'"]').css(r.after.next);if(typeof i.callbacks.after=="function"){i.callbacks.after("next",c[e])}L(e)});L(e);t(a[e].base).children("div.FG_image").removeClass("actual");t(a[e].base).children('div.FG_image[image="'+c[e]+'"]').addClass("actual")}}if(a[e].images[c[e]].customControls!=undefined&&a[e].images[c[e]].customControls!=false&&(a[e].images[l[e]].customControls==undefined||a[e].images[l[e]].customControls!=false)){if(a[e].images[c[e]].customControls==true){t(a[e].base).children("div.FG_video_controls").fadeIn()}else{t(a[e].images[c[e]].customControls).children("div.FG_video_controls").fadeIn()}}else if(a[e].images[l[e]].customControls!=undefined&&a[e].images[l[e]].customControls!=false&&(a[e].images[c[e]].customControls==undefined||a[e].images[c[e]].customControls!=false)){if(a[e].images[c[e]].customControls==true){t(a[e].base).children("div.FG_video_controls").fadeOut()}else{t(a[e].images[l[e]].customControls).children("div.FG_video_controls").fadeOut()}}if(typeof jQuery.ui!=="undefined"){time=r.actualImageTo!=null&&r.nextImageTo!=null?r.actualImageTo.time*1+r.nextImageTo.time*1:1e3;base=a[e].miniID!=null?a[e].miniID:a[e].base;t(base).children(".FG_mini").children("li").removeClass("FG_thumb_list_actual",time);t(base).children(".FG_mini").children('li[image="'+c[e]+'"]').addClass("FG_thumb_list_actual",time)}else{base=a[e].miniID!=null?a[e].miniID:a[e].base;t(base).children(".FG_mini").children("li").removeClass("FG_thumb_list_actual");t(base).children(".FG_mini").children('li[image="'+c[e]+'"]').addClass("FG_thumb_list_actual")}if(a[e].status==1){if((a[e].images[c[e]].type=="youtube"||a[e].images[c[e]].type=="video")&&a[e].images[c[e]].adaptTime){}else{C(e,true);f[e]=setTimeout(function(){x(e,"n")},a[e].time)}}if(typeof a[e].callback.animationEnd=="function"){a[e].callback.animationEnd()}if(t(a[e].base).children('div.FG_image[image="'+c[e]+'"]').children("video").length>0){videoId=t(a[e].base).children('div.FG_image[image="'+c[e]+'"]').children("video").attr("id");document.getElementById(videoId).play()}if(t(a[e].base).children('div.FG_image[image="'+l[e]+'"]').children("video").length>0){videoId=t(a[e].base).children('div.FG_image[image="'+l[e]+'"]').children("video").attr("id");document.getElementById(videoId).pause()}}else{}};var T=function(e){if(a[e]!=undefined){y(e);clearTimeout(f[e]);t(a[e].base).empty();options_2=[];for(key in a){if(key!=e){options_2[key]=a[key]}}a=options_2}};var N=function(e){if(a[e]!=undefined){if(a[e].status!=null){if(document[u.visibilityValue]&&a[e].status==1){t(a[e].base).FullGallery("stop");if(typeof a[e].callback.tabBlur=="function"){a[e].callback.tabBlur()}}else if(a[e].status==0&&a[e].resumePlay==true){t(a[e].base).FullGallery("play");if(typeof a[e].callback.tabFocus=="function"){a[e].callback.tabFocus()}}if(document[u.visibilityValue]&&a[e].images[a[e].actual].stopOnTabBlur&&a[e].images[a[e].actual].status==1){t(a[e].base).FullGalleryVideoManager("pause");a[e].images[a[e].actual].status=3}if(!document[u.visibilityValue]&&a[e].images[a[e].actual].resumeOnTabFocus&&a[e].images[a[e].actual].status==3){t(a[e].base).FullGalleryVideoManager("play")}}}};var C=function(e,n,r){r=r*1>0?r:a[e].time;if(a[e].countdown.active&&a[e].autoplay&&a[e].status==1){if(n!="stop"){if(n==true){t(a[e].base).children(".FG_countdown").children("div").stop(true,true)}if(typeof jQuery.ui!=="undefined"){if(typeof a[e].countdown.style.start=="string"){t(a[e].base).children(".FG_countdown").children("div").addClass(a[e].countdown.style.end,r,function(){t(this).removeClass(a[e].countdown.style.end)})}else if(typeof a[e].countdown.style.start=="object"){t(a[e].base).children(".FG_countdown").children("div").animate(a[e].countdown.style.end,r,function(){t(this).css(a[e].countdown.style.start)})}else{t(a[e].base).children(".FG_countdown").children("div").addClass("_100",r,function(){t(this).removeClass("_100")})}}else{t(a[e].base).children(".FG_countdown").children("div").animate(a[e].countdown.style.end,r,function(){t(this).css(a[e].countdown.style.start)})}}else{t(a[e].base).children(".FG_countdown").children("div").stop(true,true)}}else{t(a[e].base).children(".FG_countdown").children("div").stop(true,true)}};var k=function(e){if(a[e].totalImages==a[e].loaded){f[e]=setTimeout(function(){b(e)},a[e].time)}};var L=function(e){t(a[e].base).children("div.FG_image").children("video").each(function(){h=t(a[e].base).height();w=t(a[e].base).width();o=w>h?"o":"v";r=o!="o"?w/h:h/w;a[e].orientation=o;a[e].ratio=r;if(o=="o"){vH="auto";vW="100%";t(this).attr({height:vH,width:vW});if(t(this).height()<=h){vH="100%";vW="auto"}}else{vH="100%";vW="auto";t(this).attr({height:vH,width:vW});if(t(this).width()<=w){vH="auto";vW="100%"}}t(this).attr({height:vH,width:vW})});t(a[e].base).children("div.FG_image").children("iframe").each(function(){hC=t(a[e].base).height();wC=t(a[e].base).width();oC=wC>hC?"o":"v";rC=oC!="o"?wC/hC:hC/wC;a[e].orientation=oC;a[e].ratio=rC;h=t(this).attr("h");w=t(this).attr("w");o=w>h?"o":"v";r=oC!="o"?w/h:h/w;if(oC=="o"){vH=wC*r;vW=wC;t(this).attr({height:vH,width:vW});if(t(this).height()<=hC){r=w/h;vH=hC;vW=hC*r}}else{vH=hC;vW=hC*r;t(this).attr({height:vH,width:vW});if(t(this).width()<=wC){vH=wC*r;vW=wC}}t(this).attr({height:vH,width:vW})})};var A=function(e){thumb=t(e).attr("image");id=t(e).attr("base");canvas=document.createElement("canvas");canvas.width=e.videoWidth;canvas.height=e.videoHeight;context=canvas.getContext("2d");context.drawImage(e,0,0,e.videoWidth,e.videoHeight);dataURL=canvas.toDataURL();base=a[id].miniID!=null?a[id].miniID:a[id].base;t(base).children("ul").children('li[image="'+thumb+'"]').css({background:"url("+dataURL+")","background-size":"cover"})};t.fn.FullGalleryAnimations=function(e){m=t.extend(e,m)};t.fn.FullGalleryGetOptions=function(){var e=t(this).attr("id");e=e==""||e==undefined?"FG"+Math.round(Math.random()*1e7):e;t(this).attr({id:e});return a[e]};t.fn.FullGalleryVideoManager=function(n,r){var i=t(this).attr("id");switch(n){case"play":if(a[i].images[a[i].actual].type=="youtube"){FG_video[i+"_video_"+a[i].actual].playVideo();a.images[t(e.target.a).attr("image")].status=1}else{document.getElementById(i+"_video_"+a[i].actual).play();a.images[t(e.target.a).attr("image")].status=1}break;case"stop":if(a[i].images[a[i].actual].type=="youtube"){FG_video[i+"_video_"+a[i].actual].stopVideo();a.images[t(e.target.a).attr("image")].status=0}else{document.getElementById(i+"_video_"+a[i].actual).pause();a.images[t(e.target.a).attr("image")].status=0}break;case"pause":if(a[i].images[a[i].actual].type=="youtube"){FG_video[i+"_video_"+a[i].actual].pauseVideo();a.images[t(e.target.a).attr("image")].status=2}else{document.getElementById(i+"_video_"+a[i].actual).pause();a.images[t(e.target.a).attr("image")].status=2}break;case"restart":if(a[i].images[a[i].actual].type=="youtube"){onYouTubeIframeAPIReady(true)}else{document.getElementById(i+"_video_"+a[i].actual).load()}break;case"mute":if(a[i].images[a[i].actual].type=="youtube"){FG_video[i+"_video_"+a[i].actual].mute()}else{document.getElementById(i+"_video_"+a[i].actual).muted=true}break;case"unmute":if(a[i].images[a[i].actual].type=="youtube"){FG_video[i+"_video_"+a[i].actual].unMute()}else{document.getElementById(i+"_video_"+a[i].actual).muted=false}break;case"fadein":if(a[i].images[a[i].actual].type=="youtube"){VideoFadeVolume(i,"in",FG_video[i+"_video_"+a[i].actual].getVolume())}else{VideoFadeVolume(i,"in",document.getElementById(i+"_video_"+a[i].actual).volume)}break;case"fadeout":if(a[i].images[a[i].actual].type=="youtube"){VideoFadeVolume(i,"out",FG_video[i+"_video_"+a[i].actual].getVolume())}else{VideoFadeVolume(i,"out",document.getElementById(i+"_video_"+a[i].actual).volume)}break;case"setvolume":if(a[i].images[a[i].actual].type=="youtube"){FG_video[i+"_video_"+a[i].actual].setVolume(r)}else{document.getElementById(i+"_video_"+a[i].actual).volume=r/100}break}};VideoFadeVolume=function(e,n,r){if(n=="in"){r++}else{r--}if(r>=0&&r<=100){setTimeout(function(){t("#"+e).FullGalleryVideoManager("setvolume",r);VideoFadeVolume(e,n,r)},a[e].volumeFadeSpeed)}}})(jQuery);window.onYouTubeIframeAPIReady=function(e,t,n){if(e===true||FG_video_loaded==false){id_v=t!=""&&t!=undefined?"#"+t+' .div[videoID][image="'+n+'"],#'+t+' .iframe[videoID][image="'+n+'"]':"div[videoID],iframe[videoID]";$(id_v).each(function(){html=$(this).parent("div").html();html=html.replace("iframe","div");$(this).parent("div").html(html);t=$(this).attr("base");n=$(this).attr("image");url=$(this).attr("videoID");h=$(this).attr("h");w=$(this).attr("w");loop=FG_video_data[t+"_video_"+n].loop;muted=FG_video_data[t+"_video_"+n].muted;opt=FG_video_data[t+"_video_"+n];FG_video[t+"_video_"+n]=new YT.Player(t+"_video_"+n,{width:w,height:h,videoId:url,playerVars:opt,events:{onReady:function(e){FG_video_loaded=true;$("#"+t).FullGallery("resize");FG_video_data[t+"_video_"+n].duration=e.target.getDuration();FG_video_data[t+"_video_"+n].status=0;if(muted){e.target.mute()}},onStateChange:function(e){var r=$("#"+t).FullGalleryGetOptions();FG_video_data[t+"_video_"+n].status=e.data;loop=r.images[$(e.target.a).attr("image")].loop;if(e.data==YT.PlayerState.ENDED&&loop==1){e.target.playVideo();r.images[$(e.target.a).attr("image")].status=1}else if(e.data==YT.PlayerState.ENDED&&loop==0&&r.status==1){$("#"+t).FullGallery("next")}}}})})}}
/* FullGallery v0.3 Responsive multi-Gallery with thumbinals, customizable transiction and content slideshow License: This work is licensed under the Creative Commons Attribution 4.0 International License. To view a copy of this license, visit http://creativecommons.org/licenses/by/4.0/ or send a letter to Creative Commons, 444 Castro Street, Suite 900, Mountain View, California, 94041, USA. Contacts: digitald(at)big-d-web(dot)com */
(function(h){var l=[];var j={};var r=[{images:[],status:null,animation:"fade",animationRunning:0,time:6000,prev:null,next:null,actual:null,total:null,base:null,started:0,autoplay:false,mini:false,buttons:false,resumePlay:true,callback:{init:function(){},animationStart:function(){},animationEnd:function(){},play:function(){},stop:function(){},tabFocus:function(){},tabBlur:function(){}},debug:false}];var o=new Array();var g=new Array();var a=new Array();var f=new Array();var q={fade:{forward:{before:{actual:{zIndex:-2,display:"block",opacity:"1.0"},next:{zIndex:-1,display:"block",opacity:"0.0"}},actualImageTo:null,delay:0,nextImageTo:{css:{display:"block",opacity:"1.0"},time:1000,method:"linear"},after:{actual:{zIndex:-3,display:"none",opacity:"0.0"},next:{zIndex:-1,display:"block"}}},previous:{before:{actual:{zIndex:-2,display:"block",opacity:"1.0"},next:{zIndex:-1,display:"block",opacity:"0.0"}},actualImageTo:null,delay:0,nextImageTo:{css:{display:"block",opacity:"1.0"},time:1000,method:"linear"},after:{actual:{zIndex:-3,display:"none",opacity:"0.0"},next:{zIndex:-1,display:"block"}}},sync:false,callbacks:{before:function(){},after:function(){}}},slide:{forward:{before:{actual:{zIndex:1,display:"block",top:0,left:0},next:{zIndex:2,display:"block",top:0,left:"100%"}},actualImageTo:{css:{left:"-100%"},time:1200,method:"easeInOutExpo"},delay:0,nextImageTo:{css:{left:"0"},time:1000,method:"easeInOutExpo"},after:{actual:{zIndex:1,display:"block",top:0,left:"100%"},next:{zIndex:1,display:"block",top:0,left:0}}},previous:{before:{actual:{zIndex:1,display:"block",top:0,left:0},next:{zIndex:2,display:"block",top:0,left:"-100%"}},actualImageTo:{css:{left:"100%"},time:1200,method:"easeInOutExpo"},delay:0,nextImageTo:{css:{left:"0"},time:1000,method:"easeInOutExpo"},after:{actual:{zIndex:1,display:"block",top:0,left:"-100%"},next:{zIndex:1,display:"block",top:0,left:0}}},sync:true,callbacks:{before:function(){},after:function(){}}}};h.fn.FullGallery=function(){argL=arguments.length;var t=this;var v=false;var u=h(this).attr("id");u=(u==""||u==undefined)?"FG"+Math.round(Math.random()*10000000):u;h(this).attr({id:u});if(argL==0){r[u]=r[0]}else{if(argL==1&&typeof arguments[0]=="object"){opt=arguments[0]}else{if(argL==2&&arguments[0]=="animations"&&typeof arguments[1]=="object"){q=h.extend(arguments[1],q)}else{if(argL==2&&typeof arguments[0]=="string"&&(typeof arguments[1]=="object"||typeof arguments[1]=="string")){opt=arguments[0];optv=arguments[1]}else{if(argL==1&&typeof arguments[0]=="string"){switch(arguments[0]){case"play":v=b;break;case"stop":v=m;break;case"next":v=k;break;case"prev":v=c;break}}else{if(argL==1&&typeof arguments[0]=="number"){v=parseInt(arguments[0]*1);if(r[u].images[v]!=undefined&&v!=r[u].actual){clearTimeout(o[u]);r[u].actual=r[u].actual;r[u].prev=(v<0)?r[u].total:v;r[u].next=v;effect=(r[u].next>r[u].actual)?"n":"p";e(u,effect)}}}}}}}if(v){if(typeof v=="function"){v(u)}}else{if(typeof opt=="object"){if(typeof r[u]=="object"){r[u]=h.extend({},r[u],opt)}else{r[u]=h.extend({},r[0],opt)}}if(typeof opt=="string"){r[u][opt]=optv}r[u].base=this;if(r[u].started==0){p(u)}r[u].started=1}};var p=function(t){if(typeof document.hidden!=="undefined"){j.visibilityValue="hidden";j.visibilityChange="visibilitychange"}else{if(typeof document.mozHidden!=="undefined"){j.visibilityValue="mozHidden";j.visibilityChange="mozvisibilitychange"}else{if(typeof document.msHidden!=="undefined"){j.visibilityValue="msHidden";j.visibilityChange="msvisibilitychange"}else{if(typeof document.webkitHidden!=="undefined"){j.visibilityValue="webkitHidden";j.visibilityChange="webkitvisibilitychange"}}}}document.addEventListener(j.visibilityChange,function(){n(t)},false);f[t]=r[t].base;f[t]="#"+f[t].attr("id")+" ";if(r[t].images.length==0){elements=0;h(r[t].base).children("ul").children("li").each(function(){url=h(this).css("background-image").replace(/url\(/g,"");url=url.replace(/\)/g,"");r[t].images[elements]={url:url.replace(/"/g,""),content:h(this).html()};elements++})}h(r[t].base).empty();switch(r[t].mini){case"thumbnails":thumbs_class="FG_mini FG_thumb_list";break;case"numbers":thumbs_class="FG_mini FG_number_list";break;default:thumbs_class="FG_mini FG_button_list";break}buttons="";if(r[t].buttons){buttons='<ul class="FG_buttons"><li class="prev"></li><li class="next"></li></ul>'}thumbs='<ul class="'+thumbs_class+'">';for(i=0;i<r[t].images.length;i++){z=-3;d="none";s="";if(i==0){z=-1;d="block";s="FG_thumb_list_actual"}h(r[t].base).append('<div class="FG_image" image="'+i+'" style="z-index:'+z+";background-image:url("+r[t].images[i].url+");display:"+d+';">'+((r[t].images[i].content==undefined)?"":r[t].images[i].content)+"</div>");if(r[t].mini!=null){switch(r[t].mini){case"thumbnails":thumbs+='<li class="FG_thumb_image '+s+'" image="'+(i)+'" style="background-image:url('+r[t].images[i].url+');background-size:cover;background-position: center center;"></li>';break;case"numbers":thumbs+='<li class="FG_thumb_number '+s+'" image="'+(i)+'" >'+(i+1)+"</li>";break;default:thumbs+='<li class="FG_thumb_button '+s+'" image="'+(i)+'"></li>';break}}}thumbs+="</ul>";append=((r[t].buttons)?buttons:"")+((r[t].mini!==false)?thumbs:"");h(r[t].base).prepend(append);h(f[t]+" > ul.FG_buttons > li.prev").click(function(){h(r[t].base).FullGallery("prev")});h(f[t]+" > ul.FG_buttons > li.next").click(function(){h(r[t].base).FullGallery("next")});h(f[t]+" > ul.FG_mini > li").click(function(){if(!h(f[t]+" > .FG_image").is(":animated")){img=h(this).attr("image")*1;img=(img>=r[t].images.length)?0:img;img=(img<0)?r[t].images.length-1:img;h(r[t].base).FullGallery(img)}});r[t].actual=0;r[t].total=i-1;r[t].prev=i-1;r[t].next=1;if(r[t].autoplay){r[t].status=1;o[t]=setTimeout(function(){b(t)},r[t].time)}if(typeof r[t].callback.init=="function"){r[t].callback.init()}};var m=function(t){r[t].status=0;clearTimeout(o[t]);if(typeof r[t].callback.stop=="function"){r[t].callback.stop()}};var b=function(t){r[t].status=1;if(typeof r[t].callback.play=="function"){r[t].callback.play()}e(t,r[t].animation,"n")};var k=function(t){if(!h(f[t]+" > .FG_image").is(":animated")){clearTimeout(o[t]);e(t,"n")}};var c=function(t){if(!h(f[t]+" > .FG_image").is(":animated")){clearTimeout(o[t]);e(t,"p")}};var e=function(w,v){if(r[w].total>1){if(typeof r[w].callback.animationStart=="function"){r[w].callback.animationStart()}switch(v){case"p":effect="previous";break;default:effect="forward";break}var u=q[r[w].animation][effect];var t=q[r[w].animation];if(v=="p"){g[w]=r[w].actual;a[w]=r[w].prev;r[w].actual=r[w].prev;r[w].prev=(r[w].actual-1<0)?r[w].total:r[w].actual-1;r[w].next=(r[w].actual+1>r[w].total)?0:r[w].actual+1}else{g[w]=r[w].actual;a[w]=r[w].next;r[w].actual=r[w].next;r[w].prev=(r[w].actual-1<0)?r[w].total:r[w].actual-1;r[w].next=(r[w].actual+1>r[w].total)?0:r[w].actual+1}if(u.before.actual!=null){h(r[w].base).children('div.FG_image[image="'+g[w]+'"]').css(u.before.actual);if(typeof t.callbacks.before=="function"){t.callbacks.before("actual",g[w])}}if(u.before.next!=null){h(r[w].base).children('div.FG_image[image="'+a[w]+'"]').css(u.before.next);if(typeof t.callbacks.before=="function"){t.callbacks.before("next",a[w])}}if(u.actualImageTo!=null){h(r[w].base).children('div.FG_image[image="'+g[w]+'"]').animate(u.actualImageTo.css,u.actualImageTo.time,u.actualImageTo.method,function(){if(!t.sync&&u.nextImageTo!=null){h(r[w].base).children('div.FG_image[image="'+a[w]+'"]').animate(u.nextImageTo.css,u.nextImageTo.time,u.nextImageTo.method,function(){h(r[w].base).children('div.FG_image[image="'+g[w]+'"]').css(u.after.actual);if(typeof t.callbacks.after=="function"){t.callbacks.after("actual",g[w])}h(r[w].base).children('div.FG_image[image="'+a[w]+'"]').css(u.after.next);if(typeof t.callbacks.after=="function"){t.callbacks.after("next",a[w])}})}else{h(r[w].base).children('div.FG_image[image="'+g[w]+'"]').css(u.after.actual);if(typeof t.callbacks.after=="function"){t.callbacks.after("actual",g[w])}}})}if(u.nextImageTo!=null){if(u.delay>0){h(r[w].base).children('div.FG_image[image="'+a[w]+'"]').delay(u.delay).animate(u.nextImageTo.css,u.nextImageTo.time,u.nextImageTo.method,function(){if(!t.sync){h(r[w].base).children('div.FG_image[image="'+g[w]+'"]').css(u.after.actual);if(typeof t.callbacks.after=="function"){t.callbacks.after("actual",g[w])}}h(r[w].base).children('div.FG_image[image="'+a[w]+'"]').css(u.after.next);if(typeof t.callbacks.after=="function"){t.callbacks.after("next",a[w])}});h(r[w].base).children("div.FG_image").removeClass("actual");h(r[w].base).children('div.FG_image[image="'+a[w]+'"]').addClass("actual")}else{h(r[w].base).children('div.FG_image[image="'+a[w]+'"]').animate(u.nextImageTo.css,u.nextImageTo.time,u.nextImageTo.method,function(){if(!t.sync){h(r[w].base).children('div.FG_image[image="'+g[w]+'"]').css(u.after.actual);if(typeof t.callbacks.after=="function"){t.callbacks.after("actual",g[w])}}h(r[w].base).children('div.FG_image[image="'+a[w]+'"]').css(u.after.next);if(typeof t.callbacks.after=="function"){t.callbacks.after("next",a[w])}});h(r[w].base).children("div.FG_image").removeClass("actual");h(r[w].base).children('div.FG_image[image="'+a[w]+'"]').addClass("actual")}}if(typeof jQuery.ui!=="undefined"){time=(u.actualImageTo!=null&&u.nextImageTo!=null)?u.actualImageTo.time*1+u.nextImageTo.time*1:1000;h(r[w].base).children(".FG_mini").children("li").removeClass("FG_thumb_list_actual",time);h(r[w].base).children(".FG_mini").children('li[image="'+a[w]+'"]').addClass("FG_thumb_list_actual",time)}else{h(r[w].base).children(".FG_mini").children("li").removeClass("FG_thumb_list_actual");h(r[w].base).children(".FG_mini").children('li[image="'+a[w]+'"]').addClass("FG_thumb_list_actual")}if(r[w].status==1){o[w]=setTimeout(function(){e(w,"n")},r[w].time)}if(typeof r[w].callback.animationEnd=="function"){r[w].callback.animationEnd()}}};var n=function(t){if(r[t].status!=null){if(document[j.visibilityValue]&&r[t].status==1){h(r[t].base).FullGallery("stop");if(typeof r[t].callback.tabBlur=="function"){r[t].callback.tabBlur()}}else{if(r[t].status==0&&r[t].resumePlay==true){h(r[t].base).FullGallery("play");if(typeof r[t].callback.tabFocus=="function"){r[t].callback.tabFocus()}}}}}})(jQuery);
/* FullGallery | Contacts: digitald(at)big-d-web(dot)com | License: This work is licensed under the Creative Commons Attribution 4.0 International License. To view a copy of this license, visit http://creativecommons.org/licenses/by/4.0/ or send a letter to Creative Commons, 444 Castro Street, Suite 900, Mountain View, California, 94041, USA. */
(function(g){var v=[];var b={};var f=[{images:[],status:null,animation:"fade",time:6000,autoplay:false,mini:false,miniID:null,buttons:false,resumePlay:true,preload:true,bindKeys:false,bindTouch:false,volumeFadeSpeed:30,countdown:{active:false,style:{start:"_0",end:"_100"}},callback:{init:function(){},animationStart:function(){},animationEnd:function(){},play:function(){},stop:function(){},tabFocus:function(){},tabBlur:function(){}},debug:false,prev:null,next:null,actual:null,total:null,totalImages:0,loaded:0,base:null,started:0,orientation:null,ratio:null}];var c=new Array();var a=new Array();var j=new Array();var E=new Array();window.FG_video={};window.FG_video_data={};window.FG_video_loaded=false;g.getScript("//www.youtube.com/iframe_api");var B={name:"FullGallery",version:"1.4",lastUpdate:"2014-08-06",authors:[{name:"digitaldag",contacts:"mailto:digitald@big-d-web.com"}],url:"https://github.com/digitaldag/FullGallery"};var n={fade:{forward:{before:{actual:{zIndex:-2,display:"block",opacity:"1.0"},next:{zIndex:-1,display:"block",opacity:"0.0"}},actualImageTo:null,delay:0,nextImageTo:{css:{display:"block",opacity:"1.0"},time:1000,method:"linear"},after:{actual:{zIndex:-3,display:"none",opacity:"0.0"},next:{zIndex:-1,display:"block"}}},previous:{before:{actual:{zIndex:-2,display:"block",opacity:"1.0"},next:{zIndex:-1,display:"block",opacity:"0.0"}},actualImageTo:null,delay:0,nextImageTo:{css:{display:"block",opacity:"1.0"},time:1000,method:"linear"},after:{actual:{zIndex:-3,display:"none",opacity:"0.0"},next:{zIndex:-1,display:"block"}}},sync:false,callbacks:{before:function(){},after:function(){}}},slide:{forward:{before:{actual:{zIndex:1,display:"block",top:0,left:0},next:{zIndex:2,display:"block",top:0,left:"100%"}},actualImageTo:{css:{left:"-100%"},time:1200,method:"easeInOutExpo"},delay:0,nextImageTo:{css:{left:"0"},time:1000,method:"easeInOutExpo"},after:{actual:{zIndex:1,display:"none",top:0,left:"100%"},next:{zIndex:1,display:"block",top:0,left:0}}},previous:{before:{actual:{zIndex:1,display:"block",top:0,left:0},next:{zIndex:2,display:"block",top:0,left:"-100%"}},actualImageTo:{css:{left:"100%"},time:1200,method:"easeInOutExpo"},delay:0,nextImageTo:{css:{left:"0"},time:1000,method:"easeInOutExpo"},after:{actual:{zIndex:1,display:"none",top:0,left:"-100%"},next:{zIndex:1,display:"block",top:0,left:0}}},sync:true,callbacks:{before:function(){},after:function(){}}}};g.fn.FullGallery=function(){if(g(this).length>0){argL=arguments.length;var F=this;var H=false;var G=g(this).attr("id");G=(G==""||G==undefined)?"FG"+Math.round(Math.random()*10000000):G;g(this).attr({id:G});if(argL==0){f[G]=f[0]}else{if(argL==1&&typeof arguments[0]=="object"){opt=arguments[0]}else{if(argL==2&&typeof arguments[0]=="string"&&(typeof arguments[1]=="object"||typeof arguments[1]=="string")){opt=arguments[0];optv=arguments[1]}else{if(argL==1&&typeof arguments[0]=="string"){switch(arguments[0]){case"play":H=C;break;case"stop":H=u;break;case"next":H=t;break;case"prev":H=q;break;case"resize":H=D;break}}else{if(argL==1&&typeof arguments[0]=="number"){H=parseInt(arguments[0]*1);if(f[G].images[H]!=undefined&&H!=f[G].actual){clearTimeout(c[G]);f[G].actual=f[G].actual;f[G].prev=(H<0)?f[G].total-1:H;f[G].next=H;effect=(f[G].next>f[G].actual)?"n":"p";A(G,effect)}}}}}}if(H){if(typeof H=="function"){H(G)}}else{if(typeof opt=="object"){if(typeof f[G]=="object"){f[G]=g.extend({},f[G],opt)}else{f[G]=g.extend({},f[0],opt)}}if(typeof opt=="string"){f[G][opt]=optv}f[G].base=this;if(f[G].started==0){x(G)}f[G].started=1}}};var x=function(G){if(typeof document.hidden!=="undefined"){b.visibilityValue="hidden";b.visibilityChange="visibilitychange"}else{if(typeof document.mozHidden!=="undefined"){b.visibilityValue="mozHidden";b.visibilityChange="mozvisibilitychange"}else{if(typeof document.msHidden!=="undefined"){b.visibilityValue="msHidden";b.visibilityChange="msvisibilitychange"}else{if(typeof document.webkitHidden!=="undefined"){b.visibilityValue="webkitHidden";b.visibilityChange="webkitvisibilitychange"}}}}document.addEventListener(b.visibilityChange,function(){l(G)},false);E[G]=f[G].base;E[G]="#"+E[G].attr("id")+" ";if(f[G].images.length==0){elements=0;g(f[G].base).children("ul").children("li").each(function(){url=g(this).css("background-image").replace(/url\(/g,"");url=url.replace(/\)/g,"");f[G].images[elements]={url:url.replace(/"/g,""),content:g(this).html()};elements++})}g(f[G].base).empty();b.keyDown={};g(document).keydown(function(I){var H=H||"";b.keyDown[I.key]=true;if(f[G].bindKeys!=false){if(I.key=="Up"||I.key=="Left"){I.preventDefault();g(f[G].base).FullGallery("prev")}else{if(I.key=="Down"||I.key=="Right"){I.preventDefault();g(f[G].base).FullGallery("next")}else{if(I.key=="p"||I.key=="P"){if(f[G].status==1){g(f[G].base).FullGallery("stop")}else{if(f[G].status==0){g(f[G].base).FullGallery("play")}}}}}}if(b.keyDown.Control&&b.keyDown.Down){I.preventDefault();s=B;authors="";for(i=0;i<s.authors.length;i++){authors+='<a href="'+s.authors[i].contacts+'">'+s.authors[i].name+"</a>";if(s.authors.length!=i-1){authors+=", "}}g(".sc").html('<p><a href="'+s.url+'">'+s.name+"</a> ("+s.version+") made with love by "+authors+"</p>").fadeIn();k(s.name+" ("+s.version+") made with love by "+authors,G)}if(b.keyDown["4"]&&b.keyDown["2"]){console.log("You found the Answer to the Ultimate Question of Life, the Universe, and Everything!")}if(b.keyDown.Esc){g(".sc").fadeOut()}k("Key pressed: "+I.key,G)});if(f[G].bindTouch!=false&&typeof Hammer=="function"){var F=new Hammer(document.getElementById(g(f[G].base).attr("id")));F.add(new Hammer.Tap({event:"doubletap",taps:2}));F.add(new Hammer.Tap({event:"sc",taps:4}));F.add(new Hammer.Tap({event:"answer",taps:42}));F.on("swipeleft swipeup panleft pantop",function(){g(f[G].base).FullGallery("prev")}).on("swiperight swipedown panright pandown",function(){g(f[G].base).FullGallery("next")}).on("doubletap",function(){k("2taps");if(f[G].status==1){g(f[G].base).FullGallery("stop")}else{if(f[G].status==0){g(f[G].base).FullGallery("play")}}}).on("sc",function(){k("4taps");s=B;authors="";for(i=0;i<s.authors.length;i++){authors+='<a href="'+s.authors[i].contacts+'">'+s.authors[i].name+"</a>";if(s.authors.length!=i-1){authors+=", "}}g(".sc").html('<p><a href="'+s.url+'">'+s.name+"</a> ("+s.version+") made with love by "+authors+"</p>").fadeIn();setTimeout(function(){g(".sc").fadeOut()},5000);k(s.name+" ("+s.version+") made with love by "+authors,G)}).on("answer",function(){k("42taps");console.log("You found the Answer to the Ultimate Question of Life, the Universe, and Everything!")})}g(document).keyup(function(H){b.keyDown[H.key]=false});switch(f[G].mini){case"thumbnails":thumbs_class="FG_mini FG_thumb_list";break;case"numbers":thumbs_class="FG_mini FG_number_list";break;default:thumbs_class="FG_mini FG_button_list";break}buttons="";if(f[G].buttons){buttons='<ul class="FG_buttons"><li class="prev"></li><li class="next"></li></ul>'}countdown="";if(f[G].countdown.active){countdown='<div class="FG_countdown"><div class="_0"></div></div>'}thumbs='<ul class="'+thumbs_class+'" connection="'+G+'">';for(i=0;i<f[G].images.length;i++){z=-3;d="none";s="";if(i==0){z=-1;d="block";s="FG_thumb_list_actual"}f[G].images[i].copyright=f[G].images[i].copyright||{link:"",name:""};copyright="&copy; "+((f[G].images[i].copyright.link!=""&&f[G].images[i].copyright.link!=undefined)?'<a target="_blank" href="'+f[G].images[i].copyright.link+'" title="'+f[G].images[i].copyright.name+'">':"")+f[G].images[i].copyright.name+((f[G].images[i].copyright.link!=""&&f[G].images[i].copyright.link!=undefined)?"</a>":"");copyright_show=(f[G].images[i].copyright.link!=""||f[G].images[i].copyright.name!="")?"block":"none";if(f[G].images[i].type=="video"){loop=(f[G].images[i].loop)?"loop":"";controls=(f[G].images[i].controls)?"controls":"";autoplay=(f[G].images[i].autoplay)?"autoplay":"";video='<video class="FG_video" id="'+G+"_video_"+i+'" image="'+i+'" base="'+G+'" '+autoplay+" "+loop+" "+controls+">";sources=f[G].images[i].url.split(";");for(i=0;i<sources.length;i++){source=sources[i].split("|");if(source.length==2){video+='<source src="'+source[0]+'" type="'+source[1]+'">'}else{video+='<source src="'+sources[i]+'">'}}video+="</video>";customControls='<div style="display:'+d+';" class="FG_video_controls"><ul><li class="play"></li><li class="stop"></li><li class="restart"></li><li class="fadein"></li><li class="fadeout"></li><li class="mute"></li><li class="unmute"></li></ul></div>';g(f[G].base).append('<div video="true" class="FG_image" image="'+i+'" style="z-index:'+z+";display:"+d+';">'+video+((f[G].images[i].content==undefined)?"":f[G].images[i].content)+((f[G].images[i].customControls==true)?customControls:"")+'<div class="sc" style="display:none;position:absolute;top:5px;right:0;font-size:9px;background:#fff;color;#000;"></div><div class="copyright" style="display:'+copyright_show+';">'+copyright+"</div></div>");if(i==0){document.getElementById(G+"_video_"+i).onended=function(){if(f[G].status==1){g(f[G].base).FullGallery("next")}}}document.getElementById(G+"_video_"+i).pause();if(f[G].images[i].customControls!=undefined&&f[G].images[i].customControls!=true&&f[G].images[i].customControls!=false){g(f[G].images[i].customControls).append(customControls);g(f[G].images[i].customControls).children(".FG_video_controls").children("ul").children("li").click(function(){g(f[G].base).FullGalleryVideoManager(g(this).attr("class"))})}else{if(f[G].images[i].customControls==true){g(f[G].base).children(".FG_video_controls").children("ul").children("li").click(function(){g(f[G].base).FullGalleryVideoManager(g(this).attr("class"))})}}}else{if(f[G].images[i].type=="youtube"){url=f[G].images[i].url;if(url.indexOf("watch")>=0){url=url.match(/v=(.*)/);url=url[1];url=url.split("&");url=url[0]}else{if(url.indexOf("embed")>=0){url=url.match(/\/embed\/(.*)[\?]*/);url=url[1];url=url.split("&");url=url[0]}}f[G].images[i].url=url;FG_video_data[G+"_video_"+i]={loop:(f[G].images[i].loop)?1:0,controls:(f[G].images[i].controls)?1:0,autoplay:(f[G].images[i].autoplay)?1:0,info:(f[G].images[i].info)?1:0,rel:(f[G].images[i].rel)?1:0,list:f[G].images[i].list,modestbranding:1,start:(f[G].images[i].start>0)?f[G].images[i].start:"",end:(f[G].images[i].end>0)?f[G].images[i].end:"",iv_load_policy:(f[G].images[i].annotations)?"1":"3",muted:(f[G].images[i].muted)?true:false};video='<div videoID="'+url+'" class="FG_video" id="'+G+"_video_"+i+'" image="'+i+'" base="'+G+'" h="'+f[G].images[i].height+'" w="'+f[G].images[i].width+'" allowfullscreen></div>';customControls='<div style="display:'+d+';" class="FG_video_controls"><ul><li class="play"></li><li class="pause"></li><li class="stop"></li><li class="restart"></li><li class="fadein"></li><li class="fadeout"></li><li class="mute"></li><li class="unmute"></li></ul></div>';g(f[G].base).append('<div class="FG_image" video="true" image="'+i+'" style="z-index:'+z+";display:"+d+';">'+video+((f[G].images[i].content==undefined)?"":f[G].images[i].content)+((f[G].images[i].customControls==true)?customControls:"")+'<div class="sc" style="display:none;position:absolute;top:5px;right:0;font-size:9px;background:#fff;color;#000;"></div><div class="copyright" style="display:'+copyright_show+';">'+copyright+"</div></div>");if(f[G].images[i].customControls!=undefined&&f[G].images[i].customControls!=true&&f[G].images[i].customControls!=false){g(f[G].images[i].customControls).append(customControls);g(f[G].images[i].customControls).children(".FG_video_controls").children("ul").children("li").click(function(){g(f[G].base).FullGalleryVideoManager(g(this).attr("class"))})}else{if(f[G].images[i].customControls==true){g(f[G].base).children(".FG_video_controls").children("ul").children("li").click(function(){g(f[G].base).FullGalleryVideoManager(g(this).attr("class"))})}}FG_video_data[G+"_video_"+i].customControls=f[G].images[i].customControls}else{if(f[G].preload&&f[G].autoplay){g("<img/>").attr("src",f[G].images[i].url).load(function(){g(this).remove();k("Preload",G);f[G].loaded++;p(G)})}f[G].totalImages++;g(f[G].base).append('<div class="FG_image" image="'+i+'" style="z-index:'+z+";background-image:url("+f[G].images[i].url+");display:"+d+';">'+((f[G].images[i].content==undefined)?"":f[G].images[i].content)+'<div class="sc" style="display:none;position:absolute;top:5px;right:0;font-size:9px;background:#fff;color;#000;"></div><div class="copyright" style="display:'+copyright_show+';">'+copyright+"</div></div>")}}if(f[G].mini!=null){switch(f[G].mini){case"thumbnails":url=(f[G].images[i].type=="video")?"":f[G].images[i].url;if(f[G].images[i].type=="video"){video=document.getElementById(G+"_video_"+i);video.addEventListener("loadeddata",function(){video.currentTime=10;m(this)},false);s+=" FG_thumb_video"}else{if(f[G].images[i].type=="youtube"){url="http://img.youtube.com/vi/"+f[G].images[i].url+"/1.jpg";s+=" FG_thumb_video"}}thumbs+='<li class="FG_thumb_image '+s+'" image="'+(i)+'" style="background-image:url('+url+');background-size:cover;background-position: center center;"></li>';break;case"numbers":thumbs+='<li class="FG_thumb_number '+s+'" image="'+(i)+'" >'+(i+1)+"</li>";break;default:thumbs+='<li class="FG_thumb_button '+s+'" image="'+(i)+'"></li>';break}}}thumbs+="</ul>";append=((f[G].buttons)?buttons:"")+((f[G].mini!==false&&f[G].miniID==null)?thumbs:"")+((f[G].countdown.active!==false)?countdown:"");g(f[G].base).prepend(append);if(f[G].mini!==false&&f[G].miniID!=null&&g(f[G].miniID).length==1){g(f[G].miniID).attr({connection:G});g(f[G].miniID).append(thumbs);that=this;g(f[G].miniID+" > ul.FG_mini > li").click(function(){if(!g(g(f[G].miniID).attr("connection")+" > .FG_image").is(":animated")){k("No animation, start animating",G);img=g(this).attr("image")*1;img=(img>=f[G].images.length)?0:img;img=(img<0)?f[G].images.length-1:img;g("#"+g(f[G].miniID).attr("connection")).FullGallery(img)}})}else{g(E[G]+" > ul.FG_mini > li").click(function(){if(!g(E[G]+" > .FG_image").is(":animated")){k("No animation, start animating",G);img=g(this).attr("image")*1;img=(img>=f[G].images.length)?0:img;img=(img<0)?f[G].images.length-1:img;g(f[G].base).FullGallery(img)}})}g(E[G]+" > ul.FG_buttons > li.prev").click(function(){g(f[G].base).FullGallery("prev")});g(E[G]+" > ul.FG_buttons > li.next").click(function(){g(f[G].base).FullGallery("next")});f[G].actual=0;f[G].total=i;f[G].prev=i-1;f[G].next=1;k(f[G],G);g(f[G].base).FullGallery("resize");g(window).resize(function(){g(f[G].base).FullGallery("resize")});if(f[G].autoplay){k("Autoplay",G);if(!f[G].preload){k("No preload",G);f[G].status=1;time=f[G].time;if((f[G].images[0].type=="youtube"||f[G].images[0].type=="video")&&(f[G].images[0].adaptTime)){if(f[G].images[0].type=="video"){video=document.getElementById(G+"_video_0").onended=function(){g(f[G].base).FullGallery("next")}}}else{if(f[G].total>1){y(G,true,time)}c[G]=setTimeout(function(){C(G)},time)}}}if(typeof f[G].callback.init=="function"){f[G].callback.init()}};var u=function(F){f[F].status=0;clearTimeout(c[F]);y(F,"stop");if(typeof f[F].callback.stop=="function"){f[F].callback.stop()}k("Stop",F)};var C=function(F){if(f[F].status!=1){f[F].status=1;if(typeof f[F].callback.play=="function"){f[F].callback.play()}if(f[F].images[f[F].actual].type=="youtube"){if(FG_video_data[F+"_video_"+f[F].actual].status==0){A(F,f[F].animation,"n")}}else{A(F,f[F].animation,"n")}k("Play",F)}};var t=function(F){if(!g(E[F]+" > .FG_image").is(":animated")){clearTimeout(c[F]);A(F,"n");k("Next",F)}};var q=function(F){if(!g(E[F]+" > .FG_image").is(":animated")){clearTimeout(c[F]);A(F,"p");k("Prev",F)}};var A=function(I,H){k("Start animation function",I);if(f[I].total>1){k("More then 1 image",I);if(typeof f[I].callback.animationStart=="function"){f[I].callback.animationStart()}switch(H){case"p":effect="previous";break;default:effect="forward";break}var G=n[f[I].animation][effect];var F=n[f[I].animation];if(H=="p"){a[I]=f[I].actual;j[I]=f[I].prev;f[I].actual=f[I].prev;f[I].prev=(f[I].actual-1<0)?f[I].total-1:f[I].actual-1;f[I].next=(f[I].actual+1>f[I].total-1)?0:f[I].actual+1}else{a[I]=f[I].actual;j[I]=f[I].next;f[I].actual=f[I].next;f[I].prev=(f[I].actual-1<0)?f[I].total-1:f[I].actual-1;f[I].next=(f[I].actual+1>f[I].total-1)?0:f[I].actual+1}if(f[I].images[j[I]].type=="youtube"){onYouTubeIframeAPIReady(true,I,j[I])}if(f[I].images[j[I]].type=="video"){document.getElementById(I+"_video_"+j[I]).play();document.getElementById(I+"_video_"+j[I]).onended=function(){if(f[I].status==1){g(f[I].base).FullGallery("next")}}}k(f[I].prev+" < "+f[I].actual+" > "+f[I].next,I);if(G.before.actual!=null){g(f[I].base).children('div.FG_image[image="'+a[I]+'"]').css(G.before.actual);k("Before set actual",I);if(typeof F.callbacks.before=="function"){F.callbacks.before("actual",a[I])}D(I)}if(G.before.next!=null){g(f[I].base).children('div.FG_image[image="'+j[I]+'"]').css(G.before.next);k("Before set next",I);if(typeof F.callbacks.before=="function"){F.callbacks.before("next",j[I])}D(I)}if(G.actualImageTo!=null){k("Actual animation start",I);g(f[I].base).children('div.FG_image[image="'+a[I]+'"]').animate(G.actualImageTo.css,G.actualImageTo.time,G.actualImageTo.method,function(){if(!F.sync&&G.nextImageTo!=null){k("Sync false",I);k("Next animation start",I);g(f[I].base).children('div.FG_image[image="'+j[I]+'"]').animate(G.nextImageTo.css,G.nextImageTo.time,G.nextImageTo.method,function(){k("After set acutal",I);g(f[I].base).children('div.FG_image[image="'+a[I]+'"]').css(G.after.actual);if(typeof F.callbacks.after=="function"){F.callbacks.after("actual",a[I])}k("After set next",I);g(f[I].base).children('div.FG_image[image="'+j[I]+'"]').css(G.after.next);if(typeof F.callbacks.after=="function"){F.callbacks.after("next",j[I])}});k("Next animation end",I)}else{k("Sync true",I);k("After set acutal",I);g(f[I].base).children('div.FG_image[image="'+a[I]+'"]').css(G.after.actual);if(typeof F.callbacks.after=="function"){F.callbacks.after("actual",a[I])}}});k("Actual animation end",I)}if(G.nextImageTo!=null){k("Sync false",I);k("Next animation start",I);if(G.delay>0){g(f[I].base).children('div.FG_image[image="'+j[I]+'"]').delay(G.delay).animate(G.nextImageTo.css,G.nextImageTo.time,G.nextImageTo.method,function(){if(!F.sync){k("After set acutal",I);g(f[I].base).children('div.FG_image[image="'+a[I]+'"]').css(G.after.actual);if(typeof F.callbacks.after=="function"){F.callbacks.after("actual",a[I])}}k("After set next",I);g(f[I].base).children('div.FG_image[image="'+j[I]+'"]').css(G.after.next);if(typeof F.callbacks.after=="function"){F.callbacks.after("next",j[I])}D(I)});D(I);k("Next animation end",I);g(f[I].base).children("div.FG_image").removeClass("actual");g(f[I].base).children('div.FG_image[image="'+j[I]+'"]').addClass("actual")}else{g(f[I].base).children('div.FG_image[image="'+j[I]+'"]').animate(G.nextImageTo.css,G.nextImageTo.time,G.nextImageTo.method,function(){if(!F.sync){k("After set acutal",I);g(f[I].base).children('div.FG_image[image="'+a[I]+'"]').css(G.after.actual);if(typeof F.callbacks.after=="function"){F.callbacks.after("actual",a[I])}}k("After set next",I);g(f[I].base).children('div.FG_image[image="'+j[I]+'"]').css(G.after.next);if(typeof F.callbacks.after=="function"){F.callbacks.after("next",j[I])}D(I)});D(I);k("Next animation end",I);g(f[I].base).children("div.FG_image").removeClass("actual");g(f[I].base).children('div.FG_image[image="'+j[I]+'"]').addClass("actual")}}if(f[I].images[j[I]].customControls!=undefined&&f[I].images[j[I]].customControls!=false&&(f[I].images[a[I]].customControls==undefined||f[I].images[a[I]].customControls!=false)){if(f[I].images[j[I]].customControls==true){g(f[I].base).children("div.FG_video_controls").fadeIn()}else{g(f[I].images[j[I]].customControls).children("div.FG_video_controls").fadeIn()}}else{if(f[I].images[a[I]].customControls!=undefined&&f[I].images[a[I]].customControls!=false&&(f[I].images[j[I]].customControls==undefined||f[I].images[j[I]].customControls!=false)){if(f[I].images[j[I]].customControls==true){g(f[I].base).children("div.FG_video_controls").fadeOut()}else{g(f[I].images[a[I]].customControls).children("div.FG_video_controls").fadeOut()}}}if(typeof jQuery.ui!=="undefined"){time=(G.actualImageTo!=null&&G.nextImageTo!=null)?G.actualImageTo.time*1+G.nextImageTo.time*1:1000;base=(f[I].miniID!=null)?f[I].miniID:f[I].base;g(base).children(".FG_mini").children("li").removeClass("FG_thumb_list_actual",time);g(base).children(".FG_mini").children('li[image="'+j[I]+'"]').addClass("FG_thumb_list_actual",time)}else{base=(f[I].miniID!=null)?f[I].miniID:f[I].base;g(base).children(".FG_mini").children("li").removeClass("FG_thumb_list_actual");g(base).children(".FG_mini").children('li[image="'+j[I]+'"]').addClass("FG_thumb_list_actual")}if(f[I].status==1){if((f[I].images[j[I]].type=="youtube"||f[I].images[j[I]].type=="video")&&f[I].images[j[I]].adaptTime){}else{y(I,true);c[I]=setTimeout(function(){A(I,"n")},f[I].time)}}if(typeof f[I].callback.animationEnd=="function"){f[I].callback.animationEnd()}if(g(f[I].base).children('div.FG_image[image="'+j[I]+'"]').children("video").length>0){videoId=g(f[I].base).children('div.FG_image[image="'+j[I]+'"]').children("video").attr("id");document.getElementById(videoId).play()}if(g(f[I].base).children('div.FG_image[image="'+a[I]+'"]').children("video").length>0){videoId=g(f[I].base).children('div.FG_image[image="'+a[I]+'"]').children("video").attr("id");document.getElementById(videoId).pause()}}else{k("Just 1 image",I)}};var k=function(F,G){if(f[G].debug){console.log(F)}};var l=function(F){if(f[F].status!=null){if(document[b.visibilityValue]&&f[F].status==1){k("Visibility change HIDE",F);g(f[F].base).FullGallery("stop");if(typeof f[F].callback.tabBlur=="function"){f[F].callback.tabBlur()}}else{if(f[F].status==0&&f[F].resumePlay==true){k("Visibility change SHOW",F);g(f[F].base).FullGallery("play");if(typeof f[F].callback.tabFocus=="function"){f[F].callback.tabFocus()}}}if(document[b.visibilityValue]&&f[F].images[f[F].actual].stopOnTabBlur&&f[F].images[f[F].actual].status==1){g(f[F].base).FullGalleryVideoManager("pause");f[F].images[f[F].actual].status=3}if(!document[b.visibilityValue]&&f[F].images[f[F].actual].resumeOnTabFocus&&f[F].images[f[F].actual].status==3){g(f[F].base).FullGalleryVideoManager("play")}}};var y=function(H,F,G){G=(G*1>0)?G:f[H].time;if(f[H].countdown.active&&f[H].autoplay&&f[H].status==1){if(F!="stop"){if(F==true){g(f[H].base).children(".FG_countdown").children("div").stop(true,true)}if(typeof jQuery.ui!=="undefined"){if(typeof f[H].countdown.style.start=="string"){g(f[H].base).children(".FG_countdown").children("div").addClass(f[H].countdown.style.end,G,function(){g(this).removeClass(f[H].countdown.style.end)})}else{if(typeof f[H].countdown.style.start=="object"){g(f[H].base).children(".FG_countdown").children("div").animate(f[H].countdown.style.end,G,function(){g(this).css(f[H].countdown.style.start)})}else{g(f[H].base).children(".FG_countdown").children("div").addClass("_100",G,function(){g(this).removeClass("_100")})}}}else{g(f[H].base).children(".FG_countdown").children("div").animate(f[H].countdown.style.end,G,function(){g(this).css(f[H].countdown.style.start)})}}else{g(f[H].base).children(".FG_countdown").children("div").stop(true,true)}}else{g(f[H].base).children(".FG_countdown").children("div").stop(true,true)}};var p=function(F){k(" ",F);if(f[F].totalImages==f[F].loaded){k("Play",F);c[F]=setTimeout(function(){C(F)},f[F].time)}};var D=function(F){g(f[F].base).children("div.FG_image").children("video").each(function(){h=g(f[F].base).height();w=g(f[F].base).width();o=(w>h)?"o":"v";r=(o!="o")?w/h:h/w;f[F].orientation=o;f[F].ratio=r;if(o=="o"){vH="auto";vW="100%";g(this).attr({height:vH,width:vW});if(g(this).height()<=h){vH="100%";vW="auto"}}else{vH="100%";vW="auto";g(this).attr({height:vH,width:vW});if(g(this).width()<=w){vH="auto";vW="100%"}}g(this).attr({height:vH,width:vW})});g(f[F].base).children("div.FG_image").children("iframe").each(function(){hC=g(f[F].base).height();wC=g(f[F].base).width();oC=(wC>hC)?"o":"v";rC=(oC!="o")?wC/hC:hC/wC;f[F].orientation=oC;f[F].ratio=rC;h=g(this).attr("h");w=g(this).attr("w");o=(w>h)?"o":"v";r=(oC!="o")?w/h:h/w;if(oC=="o"){vH=wC*r;vW=wC;g(this).attr({height:vH,width:vW});if(g(this).height()<=hC){r=w/h;vH=hC;vW=hC*r}}else{vH=hC;vW=hC*r;g(this).attr({height:vH,width:vW});if(g(this).width()<=wC){vH=wC*r;vW=wC}}g(this).attr({height:vH,width:vW})})};var m=function(F){thumb=g(F).attr("image");id=g(F).attr("base");canvas=document.createElement("canvas");canvas.width=F.videoWidth;canvas.height=F.videoHeight;context=canvas.getContext("2d");context.drawImage(F,0,0,F.videoWidth,F.videoHeight);dataURL=canvas.toDataURL();base=(f[id].miniID!=null)?f[id].miniID:f[id].base;g(base).children("ul").children('li[image="'+thumb+'"]').css({background:"url("+dataURL+")","background-size":"cover"})};g.fn.FullGalleryAnimations=function(F){n=g.extend(F,n)};g.fn.FullGalleryGetOptions=function(){var F=g(this).attr("id");F=(F==""||F==undefined)?"FG"+Math.round(Math.random()*10000000):F;g(this).attr({id:F});return f[F]};g.fn.FullGalleryVideoManager=function(G,F){var H=g(this).attr("id");switch(G){case"play":if(f[H].images[f[H].actual].type=="youtube"){FG_video[H+"_video_"+f[H].actual].playVideo();f.images[g(e.target.a).attr("image")].status=1}else{document.getElementById(H+"_video_"+f[H].actual).play();f.images[g(e.target.a).attr("image")].status=1}break;case"stop":if(f[H].images[f[H].actual].type=="youtube"){FG_video[H+"_video_"+f[H].actual].stopVideo();f.images[g(e.target.a).attr("image")].status=0}else{document.getElementById(H+"_video_"+f[H].actual).pause();f.images[g(e.target.a).attr("image")].status=0}break;case"pause":if(f[H].images[f[H].actual].type=="youtube"){FG_video[H+"_video_"+f[H].actual].pauseVideo();f.images[g(e.target.a).attr("image")].status=2}else{document.getElementById(H+"_video_"+f[H].actual).pause();f.images[g(e.target.a).attr("image")].status=2}break;case"restart":if(f[H].images[f[H].actual].type=="youtube"){onYouTubeIframeAPIReady(true)}else{document.getElementById(H+"_video_"+f[H].actual).load()}break;case"mute":if(f[H].images[f[H].actual].type=="youtube"){FG_video[H+"_video_"+f[H].actual].mute()}else{document.getElementById(H+"_video_"+f[H].actual).muted=true}break;case"unmute":if(f[H].images[f[H].actual].type=="youtube"){FG_video[H+"_video_"+f[H].actual].unMute()}else{document.getElementById(H+"_video_"+f[H].actual).muted=false}break;case"fadein":if(f[H].images[f[H].actual].type=="youtube"){VideoFadeVolume(H,"in",FG_video[H+"_video_"+f[H].actual].getVolume())}else{VideoFadeVolume(H,"in",document.getElementById(H+"_video_"+f[H].actual).volume)}break;case"fadeout":if(f[H].images[f[H].actual].type=="youtube"){VideoFadeVolume(H,"out",FG_video[H+"_video_"+f[H].actual].getVolume())}else{VideoFadeVolume(H,"out",document.getElementById(H+"_video_"+f[H].actual).volume)}break;case"setvolume":if(f[H].images[f[H].actual].type=="youtube"){FG_video[H+"_video_"+f[H].actual].setVolume(F)}else{document.getElementById(H+"_video_"+f[H].actual).volume=F/100}break}};VideoFadeVolume=function(H,G,F){if(G=="in"){F++}else{F--}if(F>=0&&F<=100){setTimeout(function(){g("#"+H).FullGalleryVideoManager("setvolume",F);VideoFadeVolume(H,G,F)},f[H].volumeFadeSpeed)}}})(jQuery);window.onYouTubeIframeAPIReady=function(b,c,a){if(b===true||FG_video_loaded==false){id_v=(c!=""&&c!=undefined)?"#"+c+' .div[videoID][image="'+a+'"],#'+c+' .iframe[videoID][image="'+a+'"]':"div[videoID],iframe[videoID]";$(id_v).each(function(){console.log("Div/Iframe");html=$(this).parent("div").html();html=html.replace("iframe","div");$(this).parent("div").html(html);c=$(this).attr("base");a=$(this).attr("image");url=$(this).attr("videoID");h=$(this).attr("h");w=$(this).attr("w");loop=FG_video_data[c+"_video_"+a].loop;muted=FG_video_data[c+"_video_"+a].muted;console.log("Mut: "+muted);opt=FG_video_data[c+"_video_"+a];FG_video[c+"_video_"+a]=new YT.Player(c+"_video_"+a,{width:w,height:h,videoId:url,playerVars:opt,events:{onReady:function(f){FG_video_loaded=true;$("#"+c).FullGallery("resize");FG_video_data[c+"_video_"+a].duration=f.target.getDuration();FG_video_data[c+"_video_"+a].status=0;console.log("Mut: "+muted);if(muted){f.target.mute()}},onStateChange:function(g){var f=$("#"+c).FullGalleryGetOptions();FG_video_data[c+"_video_"+a].status=g.data;loop=f.images[$(g.target.a).attr("image")].loop;if(g.data==YT.PlayerState.ENDED&&loop==1){g.target.playVideo();f.images[$(g.target.a).attr("image")].status=1}else{if(g.data==YT.PlayerState.ENDED&&loop==0&&f.status==1){$("#"+c).FullGallery("next")}}}}})})}};